<html>
<head>
  <title>[Erle-brain2] 시작하기_Operation manual</title>
  <basefont face="나눔고딕" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/303244 (ko-KR, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 나눔고딕;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1584"/>
<h1>[Erle-brain2] 시작하기_Operation manual</h1>

<div><span><div><p style="margin-bottom: 0in;"><span style="font-size: 14px; font-family: gotham,helvetica,sans-serif;"><span lang="zh-CN"><strong><span style="font-size: 24px;">시작하기 Getting started</span></strong><br clear="none"/></span></span></p><p style="margin-bottom: 0in;"><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;"><span lang="zh-CN"><br clear="none"/></span></span></p><p style="margin-bottom: 0in;"><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;"><span style="font-size: 24px;"><span lang="zh-CN">얼 브레인에 연결하기</span> Connecting to Erle-Brain 2</span><br clear="none"/></span></p><p style="margin-bottom: 0in;"><br clear="none"/></p><p style="margin-bottom: 0in;"><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;"><strong><span style="font-size: 18px;">1) <span lang="zh-CN">이더넷 </span>zeroconf</span></strong>(<span lang="zh-CN">조작없이</span>, <span lang="zh-CN">특별한 설정서버없이</span>, <span lang="zh-CN">이용가능한 </span>IP <span lang="zh-CN">네트워크를 자동적으로 작성</span>. <span lang="zh-CN">자동적 네트워크 접속 가능</span>. <span lang="zh-CN">리눅스에서 사용하는 제로구성네트워킹이 </span>Avahi(<span lang="zh-CN">대개 기본 설치되어 있음</span>)):</span></p><p style="margin-bottom: 0in;"><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;"><span lang="zh-CN">이더넷 케이블 꽂고 얼브레인 전원 연결</span>. <span lang="zh-CN">몇초 후 바로 얼브레인에 핑 보낼 수 있음</span>.</span></p><p style="margin-bottom: 0in;"><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">     : ping (<span lang="zh-CN">얼브레인 이름</span>).local</span></p><p style="margin-bottom: 0in;"><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">ssh(<span lang="zh-CN">시큐어셀</span>)<span lang="zh-CN">로 제어 가능</span>.</span></p><p style="margin-bottom: 0in;"><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">     : ssh <a href="mailto:erle@erle-brain-2.local" shape="rect" target="_blank">erle@(<span lang="zh-CN">얼브레인 이름</span></a><a href="mailto:erle@erle-brain-2.local" shape="rect" target="_blank">).local</a></span><br clear="none"/></p><p style="margin-bottom: 0in;"><span lang="zh-CN">패스워드</span>: holaerle (초기값)</p><p style="margin-bottom: 0in;"><br clear="none"/></p><p style="margin-bottom: 0in;"><br clear="none"/></p><p style="margin-bottom: 0in;"><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;"><strong><span style="font-size: 18px;">2) <span lang="zh-CN">이더넷</span></span></strong>: <span lang="zh-CN">이더넷 포트와 </span>IP<span lang="zh-CN">주소를 이용해 연결하기</span>. <span lang="zh-CN">이더넷을 통해 얼브레인</span>2<span lang="zh-CN">를 연결하는 것은 얼브레인의 </span>IP<span lang="zh-CN">주소를 통해서도 가능</span>. <span lang="zh-CN">컴퓨터를 먼저 구동하고</span>, <span lang="zh-CN">얼브레인 전원 연결</span>. <span lang="zh-CN">컴퓨터의 로컬 </span>IP<span lang="zh-CN">주소를 확인</span>(ifconfig).</span></p><p style="margin-bottom: 0in;"><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;"><span lang="zh-CN">우리가 연결된 네트워크 인터페이스가 </span>en5<span lang="zh-CN">라면</span>, <span lang="zh-CN">얼브레인</span>2<span lang="zh-CN">도 같은 루터에 연결되어</span>, <span lang="zh-CN">같은 서브넷에서 </span>IP <span lang="zh-CN">하나를 받았을 것으로 추정할 수 있음</span>. <span lang="zh-CN">따라서 얼브레인</span>2<span lang="zh-CN">를 빼고 디바이스들을 확인하고</span>(*1), <span lang="zh-CN">얼브레인</span>2 <span lang="zh-CN">전원 연결을 해서 디바이스들을 다시 확인</span>. <span lang="zh-CN">새로 추가된 </span>ip<span lang="zh-CN">가 있다면 그것이 얼브레인</span>2. <span lang="zh-CN">이제 </span>ssh<span lang="zh-CN">를 통해 연결할 수 있음</span>.</span></p><p style="margin-bottom: 0in;"><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">     : ssh <a href="mailto:erle@qkfrusgks" shape="rect" target="_blank">erle</a>@''<span lang="zh-CN">발견한 얼브레인 </span>ip''</span></p><p style="margin-bottom: 0in;"><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;"><br clear="none"/></span></p><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">Erle-jill IP : 192.168.0.59 (<span lang="zh-CN">전원 연결하고 </span>30<span lang="zh-CN">초 이상 기다려야 신호 잡힘</span>)</span><p style="margin-bottom: 0in;"><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">Erle-jack IP : 192.168.0.58 (고정아이피아님.그래서 IP대신 1)의 이름을 사용하는 것이 좋다고 함)<br clear="none"/></span></p><p style="margin-bottom: 0in;"><br clear="none"/></p><p style="margin-bottom: 0in;"><br clear="none"/></p><p style="margin-bottom: 0in;"><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;"><span lang="zh-CN">주 </span>*1: nmap(<span lang="zh-CN">네트워크 매퍼</span>) <span lang="zh-CN">패키지 설치</span>. ”nmap -sn “192.168.0.* (<span lang="zh-CN">컴퓨터가 연결된 네트워크 아이피 마지막 자리만 </span>*<span lang="zh-CN">처리</span>)” <span lang="zh-CN">명령으로 같은 서브넷에 연결된 디바이스들 확인</span>.</span></p><p style="margin-bottom: 0in;"><br clear="none"/></p><br clear="none"/><p style="margin-bottom: 0in;"><strong><span style="font-family: gotham,helvetica,sans-serif; font-size: 18px;">3) HDMI</span></strong></p><p style="margin-bottom: 0in;"><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">HDMI<span lang="zh-CN">를 연결하면 </span>GUI <span lang="zh-CN">인터페이스가 켜지는데</span>, <span lang="zh-CN">기기들</span>(<span lang="zh-CN">얼 콥터</span>, <span lang="zh-CN">얼 헥사콥터</span>, <span lang="zh-CN">얼 플레인</span>, <span lang="zh-CN">얼 스파이더</span>, <span lang="zh-CN">얼 로버</span>) <span lang="zh-CN">중 하나를 선택하면 </span>GUI <span lang="zh-CN">꺼지고 터미널 창 뜸</span>.</span></p><p style="margin-bottom: 0in;"><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">cf. <span lang="zh-CN">시스템을 기본값으로 다시 시작하고 싶으면 터미널 창에 다음 명령어 침</span>: erle-reset</span></p><p style="margin-bottom: 0in;"><br clear="none"/></p><p style="margin-bottom: 0in;"><br clear="none"/></p><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;"><strong><span style="font-size: 18px;">4) Wifi hotspot</span></strong> (얼브레인이 와이파이 핫스팟이 됨)</span><br clear="none"/><p style="margin-bottom: 0in;"><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">얼브레인에서 와이파이 동글을 샀다면 연결시 “erle-”로 시작하는 와이파이 네트워크를 볼 수 있음. 패스워드(초기값: holaerle)를 쳐서 한 번 연결하고 나면 ssh를 이용해 얼브레인2에 연결 가능.</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">    : ssh erle@10.0.0.1</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">얼 브레인에 연결되고 나면, hostapd.conf(*2) 편집해 설정을 변경할 수 있음. </span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">    : (earl@얼브레인id ~$) sudo (에디터명) /etc/hostapd/hostapd.conf</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">열린 파일 내에서 필요에 따라 다음 라인을 변경.</span></p><p style="margin-bottom: 0in;"><br clear="none"/></p><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">     (a) 주파수 바꾸기</span><br clear="none"/><p style="margin-bottom: 0in;"><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">channel=(원하는 채널값). 40에서 9까지. (*3)</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;"></span><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">바꾼 후 'hw_mode=g'를 주석해제하고, '#hw_mode=a'를 주석처리함. (*4)</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;"></span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">     (b) wifi network 의 SSID와 패스워드 바꾸기</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">ssid=(원하는 ID)</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">wpa_passphrase=(원하는 패스워드)</span><br clear="none"/></p><p style="margin-bottom: 0in;"><br clear="none"/></p><p style="margin-bottom: 0in;"><br clear="none"/></p><p style="margin-bottom: 0in;"><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">주 *2: 무선 AP(access point) 설정 관련 파일</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">cf. hostapd.conf  설명 링크 : <a href="http://w1.fi/cgit/hostap/plain/hostapd/hostapd.conf" shape="rect" target="_blank">http://w1.fi/cgit/hostap/plain/hostapd/hostapiwd.conf</a> <br clear="none"/></span></p><br clear="none"/><p style="margin-bottom: 0in;"><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;"><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">주 *3: </span>채널별 주파수 확인 명령: iwlist wlan0 frequency </span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">참고 <span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">노트 </span> https://www.evernote.com/shard/s368/sh/32449fd4-0348-45b4-807d-8ee9cd3e93a2/6869e924424f4ed227ede621cb996057</span><br clear="none"/></p><p style="margin-bottom: 0in;"><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;"><br clear="none"/></span></p><p style="margin-bottom: 0in;"><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">주 *4: <span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">hw_mode : 무선랜 오퍼레이션 모드. iwconfig 명령으로 확인 가능.</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">a = IEEE 802.11a (5 GHz), b = IEEE 802.11b (2.4 GHz), g = IEEE 802.11g (2.4 GHz), ad = IEEE 802.11ad (60 GHz)</span><br clear="none"/></span></p><p style="margin-bottom: 0in;"><br clear="none"/></p><p style="margin-bottom: 0in;"><br clear="none"/></p><p style="margin-bottom: 0in;">cf. 얼브레인 핫스팟에 연결했을 때, 얼브레인은 자신의 핫스팟에 연결된 기기의 맥 어드레스를 기억(맥 어드레스로 페어링). 얼브레인 핫스팟에는 그 기기 하나만 연결할 수 있는 듯. 얼브레인을 재부팅함으로써 1대1 접속이 해제됨.<br clear="none"/></p><p style="margin-bottom: 0in;"><br clear="none"/></p><p style="margin-bottom: 0in;"><br clear="none"/></p><p style="margin-bottom: 0in;"><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;"><strong><span style="font-size: 18px;">5) Wifi Client</span></strong>(얼브레인이 로컬 와이파이 네트워크에 연결된 클라이언트 중 하나가 됨)</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">얼브레인2에서 와이파이 네트워크에 연결 가능. 얼브레인 여러 개를 같은 네트워크에 연결할 때 연결에 유용할 수 있음.</span><br clear="none"/><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">&lt;설정&gt;</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">(1) wpa(wifi protected access) 네트워크 이름과 패스워드를 저장해서, (2) 네트워크 설정에 적용.</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">    (1) : (earl@얼브레인id ~$) wpa_passphrase (네트워크명) (네트워크패스워드) &gt; erle.conf</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">    (2) : (earl@얼브레인id ~$) sudo mv erle.conf /etc/wpa_supplicant</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">(3) /etc/network/interfaces를 편집</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">    (3): (earl@얼브레인id ~$) (에디터명) /etc/network/interfaces</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">다음 내용을 주석 해제(없으면 추가)</span><br clear="none"/><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">auto lo</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">iface lo inet loopback</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">auto wlan0</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">allow-hotplug wlan0</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">iface wlan0 inet manual</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">wpa-conf /etc/wpa_supplicant/erle.conf</span></p><p style="margin-bottom: 0in;"><br clear="none"/></p><p style="margin-bottom: 0in;"><span style="color: rgb(0, 0, 0);">(cf. 윗 내용을 주석해제하면 얼브레인이 더이상 핫스팟으로 작동하지 않는 듯(와이파이 신호 보내지 않음). (1)에서 저장한 아이디와 패스워드는 클라이언트로 상위 네트워크에 접속된 얼브레인에 접속할 때 필요한 듯.</span></p><p style="margin-bottom: 0in;"><span style="color: rgb(0, 0, 0);">얼 잭&amp;질의 기본 설정은 윗 내용은 주석처리, 아래 내용이 주석해제되어 있음.</span><br clear="none"/></p><p style="margin-bottom: 0in;"><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px; color: rgb(0, 0, 0);">auto wlan0</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px; color: rgb(0, 0, 0);">iface wlan0 inet static</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px; color: rgb(0, 0, 0);">address 10.0.0.1</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px; color: rgb(0, 0, 0);">network 10.0.0.0</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px; color: rgb(0, 0, 0);">netmask 255.255.255.0</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px; color: rgb(0, 0, 0);">broadcast 10.0.0.255)</span><br clear="none"/><br clear="none"/><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px; color: rgb(0, 0, 0);">그 다음 시스템 재시작. 라우터가 다른 아이피를 할당할 수 있음에 유의.</span><br clear="none"/><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px; color: rgb(0, 0, 0);">&lt;연결&gt;</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;"><span style="color: rgb(0, 0, 0);">얼브레</span>인에 연결하기 위해서, ~/apm.sh의 아이피를 수정.</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">    : (earl@얼브레인id ~$) (에디터명) ~/apm.sh</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">열린 파일 내에서 다음 라인을 변경</span><br clear="none"/><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">$APM_BIN_DIR/APMrover2.elf -A udp:$wifi -B /dev/ttyAMA0 $FLAGS (변경 전)</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;"> =&gt;</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">$APM_BIN_DIR/APMrover2.elf -A udp:192.168.1.43(당신의 컴퓨터 IP):6000 -B /dev/ttyAMA0 $FLAGS (변경 후)</span><br clear="none"/><br clear="none"/><br clear="none"/><strong><span style="font-family: gotham,helvetica,sans-serif; font-size: 18px;">6) SSH</span></strong><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">(*5)</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">SSH로 얼브레인2에 연결하려면 다음 단계를 따름. SSH는 원격으로 명령을 실행하기 위해 사용됨. 먼저 얼브레인2를 얼브레인 와이파이 핫스팟을 통해 연결하거나, 같은 네트워크에 있는 얼브레인 IP 어드레스를 알아야 함.</span></p><p style="margin-bottom: 0in;"><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">운영 시스템에 따라,</span></p><p style="margin-bottom: 0in;"><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">(a) 우분투/리눅스</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">- 터미널을 엶.</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">- SSH를 실행.</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">    : ssh erle@10.0.0.1</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">    erle은 유저이름, 10.0.0.1은 얼브레인의 IP 어드레스임. 연결될 때 패스워드를 물으면 설정한 패스워드로 입력(초기값은 holaerle)</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">    프롬프트에서 $ 앞에 erle@얼브레인id가 있으면 연결되었다는 뜻임. 이제 원격으로 얼브레인2에 명령을 실행시킬 수 있음 </span><br clear="none"/><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">(b) 윈도우</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">- 윈도우를 사용하고 있다면 ssh 클라이언트가 필요함. PuTTY를 추천함.</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">- IP 어드레스를 입력해야 함. 와이파이 핫스팟으로 연결했다면 10.0.0.1이 얼브레인2의 기본 IP 어드레스임. 연결을 위해 open 클릭.</span><br clear="none"/><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">- 보안을 위해 유저이름과 패스워드를 입력해야 함. 유저이름과 패스워드 입력.(초기값은 erle 과 holaerle임)</span><br clear="none"/></p><p style="margin-bottom: 0in;"><br clear="none"/></p><p style="margin-bottom: 0in;"><br clear="none"/></p><p style="margin-bottom: 0in;"><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;">주 *5: secure shell. 네트워크 상 다른 컴퓨터에 로그인하거나 원격 시스템에서 명령 실행, 파일 복사 등을 할 수 있게 해주는 응용 프로그램 또는 프로토콜. 암호화 기법 사용해 안전한 통신 가능</span></p><p style="margin-bottom: 0in;"><br clear="none"/></p><p style="margin-bottom: 0in;"><span style="font-family: gotham,helvetica,sans-serif; font-size: 14px;"></span><br clear="none"/></p></div></span>
</div></body></html> 