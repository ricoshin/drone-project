<html>
<head>
  <title>[Simulation] Interfacing the Simulation to ROS</title>
  <basefont face="나눔고딕" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/303244 (ko-KR, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 나눔고딕;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1825"/>
<h1>[Simulation] Interfacing the Simulation to ROS</h1>

<div>
<span><div><span style="font-size: 36px;"><strong>기본적 시뮬레이션</strong></span></div><div><br clear="none"/></div><div><strong><span style="font-size: 24px;">Software in the Loop(SITL) Simulation</span></strong></div><div><div style="font-family: gotham, helvetica, arial, sans-serif; font-size: 14px;"><br clear="none"/></div></div><div style="font-family: gotham, helvetica, arial, sans-serif; font-size: 14px;"><a href="http://dev.px4.io/simulation-ros-interface.html" rev="en_rl_small" shape="rect">http://dev.px4.io/simulation-ros-interface.html</a><br clear="none"/></div><div>STIL은 호스트 머신에서 전체 시스템을 실행시키고 오토파일럿을 시뮬레이션한다.</div><div>로컬 네트워크를 통해 시뮬레이터로 연결된다. 설정은 다음과 같이 된다.se</div><div><br clear="none"/></div><div><span style="color: #008000;">Simulator -&gt; MAVLink -&gt; SITL</span></div><div><br clear="none"/></div><div><strong><span style="font-size: 18px;">Running SITL</span></strong></div><div><br clear="none"/></div><div>시뮬레이션 준비단계를 마치고 나면, 다음과 같은 make target을 실행한다.</div><div>편리하게 POSIX 호스트 빌드를 컴파일하고 시뮬레이션을 실행할 것이다.</div><div><br clear="none"/></div><div><div style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 16px; break-inside: avoid; direction: ltr; margin: 0px 0px 1.275em; padding: 0.85em 1em; border: none; color: #333333; overflow: auto; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: 0.2px; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #f7f7f7;"><div><code style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; margin: 0px; padding: 0px; border: none; color: inherit; display: inline; overflow: initial; background: 0px 0px;">make posix_sitl_default jmavsim</code></div></div></div><div><br clear="none"/></div><div><hr/></div><div><br clear="none"/></div><div><span style="font-size: 36px;"><strong>Gazebo 시뮬레이션</strong></span></div><div><br clear="none"/></div><div><div style="font-family: gotham, helvetica, arial, sans-serif; font-size: 14px;">Gazebo는 자동 로봇 위한 3차원 시뮬레이션 환경이다. standalone으로 ROS 없이 사용하거나 STIL + ROS를 사용할 수 있다.</div><div style="font-family: 'Helvetica Neue', Arial, sans; font-size: 16px;"><br clear="none"/></div><div style="font-family: 'Helvetica Neue', Arial, sans; font-size: 16px;"><span style="color: #008000;">Gazebo -&gt; Plugin -&gt; MAVLink -&gt; STIL</span></div><div style="font-family: 'Helvetica Neue', Arial, sans; font-size: 16px;"><br clear="none"/></div><div style="font-family: 'Helvetica Neue', Arial, sans; font-size: 16px;"><strong><span style="font-size: 18px;">설치</span></strong></div><div style="font-family: 'Helvetica Neue', Arial, sans; font-size: 16px;"><br clear="none"/></div></div><div style="font-family: gotham, helvetica, arial, sans-serif; font-size: 14px;">설치는 Gazebo와 시뮬레이션 플러그인을 설치하는 것을 필요로 한다.</div><div style="font-family: gotham, helvetica, arial, sans-serif; font-size: 14px;"><span style="color: #808080;">주의 : 가제보7을 추천. 만약 리눅스와 Jade 이하 버전의 ROS를 사용한다면, </span></div><div style="font-family: gotham, helvetica, arial, sans-serif; font-size: 14px;"><span style="color: #808080;">기본 포함되어 있는 Gazebo는 너무 오래된 관계로 꼭 삭제하도록 한다.</span></div><div><br clear="none"/></div><div><br clear="none"/></div><div>리눅스</div><div>PX4 SITL은 가제보 시뮬레이터를 사용하지만, ROS에 의존하지는 않는다.</div><div>시뮬레이션은 일반 flight code와 같은 방식으로 ROS에 인터페이스될 수 있다.</div><div><br clear="none"/></div><div>ROS 유저</div><div>만약 당신이 PX4를 ROS와 함께 사용할 계획이라면, ROS를 위한 <a href="http://gazebosim.org/tutorials?tut=ros_wrapper_versions#Gazebo7.xseries" shape="rect">가제보 버전 7 가이드</a>을 따르라.</div><div><br clear="none"/></div><div><hr/></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 36px;"><strong>ROS에 시뮬레이션 인터페이싱하기</strong></span></div><div><br clear="none"/></div><div><div style="font-family: gotham, helvetica, arial, sans-serif; font-size: 14px;">시뮬레이션된 오토파일럿은 port 14557번을 통해 <span style="font-family: gotham, helvetica, arial, sans-serif; font-size: 14px;">두번째 마브링크 인터페이스를 시작한다.</span></div><div style="font-family: 'Helvetica Neue', Arial, sans; font-size: 16px;">이 포트에 MAVROS를 연결하면 실제 비행에서 기체가 보내주는 모든 데이터를 받을 수 있다.</div></div><div style="font-family: gotham, helvetica, arial, sans-serif; font-size: 14px;"><br clear="none"/></div><div style="font-family: gotham, helvetica, arial, sans-serif;"><strong><span style="font-size: 18px;">MAVROS 런치하기</span></strong></div><div style="font-family: gotham, helvetica, arial, sans-serif; font-size: 14px;"><br clear="none"/></div><div style="font-family: gotham, helvetica, arial, sans-serif; font-size: 14px;">ROS로의 인터페이스를 원한다면 이미 실행중인 두번째 MAVLINK 인스턴스는 mavros를 통해서 ROS에 연결될 수 있다.</div><div style="font-family: gotham, helvetica, arial, sans-serif; font-size: 14px;">특정한 IP(fcu_url은 SITL의 IP/Port이다.)에 연결하려면 다음과 같이 URL을 사용한다.</div><div><div style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 16px; break-inside: avoid; direction: ltr; margin: 0px 0px 1.275em; padding: 0.85em 1em; border: none; color: #333333; overflow: auto; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: 0.2px; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #f7f7f7;"><div><code style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; margin: 0px; padding: 0px; border: none; color: inherit; display: inline; overflow: initial; background: 0px 0px;">roslaunch mavros px4.launch fcu_url:=<span style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; font-size: inherit; color: #718c00;">&quot;udp://:14540@192.168.1.36:14557&quot;</span></code></div></div></div><div>로컬 호스트에 접속하려면 이 URL을 사용한다.</div><div><div style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 16px; break-inside: avoid; direction: ltr; margin: 0px 0px 1.275em; padding: 0.85em 1em; border: none; color: #333333; overflow: auto; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: 0.2px; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #f7f7f7;"><div><code style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 0.85em; break-inside: avoid; direction: ltr; margin: 0px; padding: 0px; border: none; color: inherit; display: inline; overflow: initial; background: 0px 0px;">roslaunch mavros px4.launch fcu_url:=<span style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; font-size: inherit; color: #718c00;">&quot;udp://:14540@127.0.0.1:14557&quot;</span></code></div></div></div><div><strong><span style="font-size: 18px;">ROS와 함께 사용할 Gazebo 설치하기</span></strong></div><div><br clear="none"/></div><div>Gazebo ROS STIL 시뮬레이션은 Gazebo6와 함께 작동하는 것으로 알려졌다. (Gazebo 7은 작동하지 않았다.)</div><div>다음 명령어를 통해 설치할 수 있다.</div><div><br clear="none"/></div><div>*이전 버전 지우기</div><div style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px;"><div style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; color: #333333; border: 1px solid #cccccc; border-radius: 4px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #f5f5f5;"><div><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; border-radius: 0px; background-color: transparent;">sudo apt-get remove 'gazebo-*' 'sdformat-*'</code></div></div></div><div><div style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; color: #333333; border: 1px solid #cccccc; border-radius: 4px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #f5f5f5;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; border-radius: 0px; background-color: transparent;">sudo apt-get remove ros-hydro-simulator-gazebo ros-indigo-simulator-gazebo</code></div></div><div><span style="font-size: 13px;"><span style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="color: #333333;">*drcsim 설치</span></span></span></div><div><div style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; color: #333333; border: 1px solid #cccccc; border-radius: 4px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #f5f5f5;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; border-radius: 0px; background-color: transparent;">sudo sh -c 'echo &quot;deb http://packages.ros.org/ros/ubuntu trusty main&quot; &gt; /etc/apt/sources.list.d/ros-latest.list'<br clear="none"/>sudo sh -c 'echo &quot;deb http://packages.osrfoundation.org/drc/ubuntu trusty main&quot; &gt; /etc/apt/sources.list.d/drc-latest.list'</code></div></div><div><div style="box-sizing: border-box; overflow: auto; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; display: block; padding: 9.5px; margin: 0px 0px 10px; color: #333333; border: 1px solid #cccccc; border-radius: 4px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #f5f5f5;"><code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: inherit; padding: 0px; color: inherit; border-radius: 0px; background-color: transparent;">wget http://packages.ros.org/ros.key -O - | sudo apt-key add -<br clear="none"/>wget http://packages.osrfoundation.org/drc.key -O - | sudo apt-key add -</code></div></div><div><span style="box-sizing: border-box; font-weight: bold; color: #000000; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #e5e5e5;">sudo</span><span style="color: #000000; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: #e5e5e5;"> apt-get update </span><span style="box-sizing: border-box; font-weight: bold; color: #000000; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #e5e5e5;">sudo</span><span style="color: #000000; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: #e5e5e5;"> apt-get install drcsim</span></div><div><span style="font-size: 13px;"><span style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="color: #333333;"><br clear="none"/></span></span></span></div><div><p style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: Roboto, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">As a side note, default install locations:</p><ol style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: #333333; font-family: Roboto, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;"><li style="box-sizing: border-box;"><p style="box-sizing: border-box; margin: 0px 0px 10px;">Pre-compiled Ubuntu Binaries : /usr/bin/gazebo</p></li><li style="box-sizing: border-box;"><div style="box-sizing: border-box; margin: 0px 0px 10px;">Default source install : /usr/local/bin/gazebo</div></li></ol></div><div><span style="font-size: 13px;"><span style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="color: #333333;"><br clear="none"/></span></span></span></div><div><div style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; break-inside: avoid; direction: ltr; margin: 0px 0px 1.275em; padding: 0.85em 1em; border: none; color: #333333; overflow: auto; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: 0.2px; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #f7f7f7;"><div><span style="font-size: 12px;"><code style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; break-inside: avoid; direction: ltr; margin: 0px; padding: 0px; border: none; color: inherit; display: inline; overflow: initial; background: 0px 0px;">sudo apt-get install ros-indigo-gazebo6-ros</code></span></div></div></div><div>만약 레이저와 같은 다른 센서 모델이 필요하다면, Gazebo 플러그인 또한 필요할 것이다.</div><div><br clear="none"/></div><div><div style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; break-inside: avoid; direction: ltr; margin: 0px 0px 1.275em; padding: 0.85em 1em; border: none; color: #333333; overflow: auto; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: 0.2px; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #f7f7f7;"><div><span style="font-size: 12px;"><code style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; break-inside: avoid; direction: ltr; margin: 0px; padding: 0px; border: none; color: inherit; display: inline; overflow: initial; background: 0px 0px;">sudo apt-get install ros-indigo-gazebo6-plugins</code></span></div></div></div><div><span style="font-size: 18px;"><strong>ROS 레퍼를 사용하여 Gazebo 런치하기</strong></span></div><div><br clear="none"/></div><div>만약 당신이 ROS 토픽으로 직접 발행되는 센서를 통합하기 위해 Gazebo 시뮬레이션을 변경하고 싶을 경우는</div><div>Gazebo가 반드시 적절한 ROS 래퍼로서 런치되어야 한다. (예. Gazebo ROS 레이저 플러그인)</div><div><br clear="none"/></div><div>ROS에 래핑된 시뮬레이션을 실행하기 위한 ROS 런치 스크립트는 다음에서 받을 수 있다.</div><div><ul style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; font-size: 16px; margin: 0px 0px 0.85em; padding: 0px 0px 0px 2em; color: #333333; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: 0.2px; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;"><li style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; font-size: inherit;"><a href="https://github.com/PX4/Firmware/blob/master/launch/posix_sitl.launch" rev="en_rl_minimal" shape="rect" style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; text-decoration: underline; font-size: inherit; outline: 0px; color: #4183c4; background: 0px 0px;" target="_blank">posix_sitl.launch</a>: 순수 SITL launch</li><li style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; font-size: inherit;"><a href="https://github.com/PX4/Firmware/blob/master/launch/mavros_posix_sitl.launch" rev="en_rl_minimal" shape="rect" style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; text-decoration: none; font-size: inherit; color: #4183c4; background: 0px 0px;" target="_blank">mavros_posix_sitl.launch</a>: SITL + MAVROS</li></ul></div><div>ROS에 래핑된 SITL을 실행하려면, ROS 환경을 업데이트 해줘야만 하며, 그 뒤에 평소처럼 런치를 해주면 된다.</div><div><div style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; break-inside: avoid; direction: ltr; margin: 0px 0px 1.275em; padding: 0.85em 1em; border: none; color: #333333; overflow: auto; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: 0.2px; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #f7f7f7;"><span style="font-size: 12px;"><code style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; break-inside: avoid; direction: ltr; margin: 0px; padding: 0px; border: none; color: inherit; display: inline; overflow: initial; background: 0px 0px;"><span style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; color: #f5871f;">cd</span> &lt;Firmware_<span style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; color: #f5871f;">clone</span>&gt;<br clear="none"/><span style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; color: #f5871f;">source</span> integrationtests/setup_gazebo_ros.bash $(<span style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; color: #f5871f;">pwd</span>)</code></span><div><span style="font-size: 12px;"><span style="background-color: initial;"><span style="color: inherit;">roslaunch px4 posix_sitl.launch</span></span></span></div></div></div><div>시뮬레이션 안에서 당신의 ROS 어플리케이션을 실행하기 위해, 당신의 런치 파일 안에 위에서 언급된 런치파일을 중 하나를 인클루드 하라.</div><div><br clear="none"/></div><div><strong><span style="font-size: 18px;">배후에서 일어나는 과정(혹은 수동으로 실행하는 방법)</span></strong></div><div><br clear="none"/></div><div>다음 명령어를 실행하면 콘솔에서 실행 내용을 확인할 수 있다.</div><div><div style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; break-inside: avoid; direction: ltr; margin: 0px 0px 1.275em; padding: 0.85em 1em; border: none; color: #333333; overflow: auto; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: 0.2px; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #f7f7f7;"><div><span style="font-size: 12px;"><code style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; break-inside: avoid; direction: ltr; margin: 0px; padding: 0px; border: none; color: inherit; display: inline; overflow: initial; background: 0px 0px;">no_sim=1 make posix_sitl_default gazebo</code></span></div></div></div><div>다음으로 새로운 터미널에서 가제보 메뉴를 통해 Iris모델을 삽입할 수 있도록 해준다.</div><div>이를 위해, 적절한 stil_gazebo 폴더들을 인클루드 하기위해 환경 변수를 설정해줘야 한다.</div><div><div style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; break-inside: avoid; direction: ltr; margin: 0px 0px 1.275em; padding: 0.85em 1em; border: none; color: #333333; overflow: auto; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: 0.2px; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #f7f7f7;"><span style="font-size: 12px;"><code style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; break-inside: avoid; direction: ltr; margin: 0px; padding: 0px; border: none; color: inherit; display: inline; overflow: initial; background: 0px 0px;"><span style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; color: #f5871f;">cd</span> &lt;Firmware_<span style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; color: #f5871f;">clone</span>&gt;</code></span><div><span style="font-size: 12px;"><span style="background-color: initial;"><span style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; color: #f5871f;">source</span><span style="color: inherit;"> integrationtests/setup_gazebo_ros.bash $(</span><span style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; color: #f5871f;">pwd</span><span style="color: inherit;">)</span></span></span></div></div></div><div>이제 ROS와 함께 실행했던 것처럼 가제보를 실행하고, Iris 쿼드콥터 모델을 삽입하라.</div><div>한번 Iris가 로드되면 자동으로 px4 앱에 연결될 것이다.</div><div><span style="font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace;"><br clear="none"/></span></div><div><div style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; break-inside: avoid; direction: ltr; padding: 0.85em 1em; border: none; color: #333333; overflow: auto; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: 0.2px; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #f7f7f7; margin: 0px 0px 0px !important 0px;"><span style="font-size: 12px;"><code style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; break-inside: avoid; direction: ltr; margin: 0px; padding: 0px; border: none; color: inherit; display: inline; max-width: initial; overflow: initial; background: 0px 0px;">roslaunch gazebo_ros empty_world.launch world_name:=$(<span style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; color: #f5871f;">pwd</span>)/Tools/sitl_gazebo/worlds/iris.world</code></span></div></div><div><span style="font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace;"><br clear="none"/></span></div><div><a href="http://dev.px4.io/simulation-hitl.html" shape="rect" style="box-sizing: border-box; -webkit-tap-highlight-color: transparent; -webkit-font-smoothing: antialiased; text-decoration: none; position: absolute; top: 50px; bottom: 0px; margin: 0px; display: flex; justify-content: center; align-content: center; flex-direction: column; font-size: 40px; color: #cccccc; text-align: center; transition: all 350ms ease; left: 0px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: 0.2px; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><br clear="none"/></a><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 0.929em; padding-right: 8px; display: inline-block; max-width: 280px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; font-weight: bold; color: #222222; font-family: Helvetica, Arial, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;"><a href="http://forum.erlerobotics.com/users/vmayoral" rev="en_rl_minimal" shape="rect" style="color: #646464; text-decoration: none; cursor: pointer; transition: color 150ms ease-out 0s; background: transparent;">vmayoral</a></span><span style="font-size: 0.929em; padding-right: 8px; display: inline-block; max-width: 280px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; color: #222222; font-family: Helvetica, Arial, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;"><a href="http://forum.erlerobotics.com/users/vmayoral" rev="en_rl_minimal" shape="rect" style="color: #646464; text-decoration: none; cursor: pointer; transition: color 150ms ease-out 0s; background: transparent;">Víctor Mayoral Vilches</a></span><span style="font-size: 0.929em; padding-right: 8px; display: inline-block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; color: #919191; font-family: Helvetica, Arial, sans-serif; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Erle Robotics</span></div><div><span style="color: #222222; font-family: Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: #ffffff;">Instructions have been compiled for Gazebo 4. Using Gazebo 7 could generate unexpected results </span></div><div><span style="color: #222222; font-family: Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: #ffffff;">but our engineers would be happy to listen to your input if you happen to try it.</span></div><div><span style="font-family: Helvetica, Arial, sans-serif;"><span style="background-color: #ffffff;"><span style="color: #222222;"><br clear="none"/></span></span></span></div><div><div style="margin-top: 0px; font-family: Helvetica, Arial, sans-serif; font-size: 14px;"><a href="http://forum.erlerobotics.com/users/m0udd" rev="en_rl_minimal" shape="rect" style="color: #646464; text-decoration: none; cursor: pointer; transition: color 150ms ease-out 0s; word-wrap: break-word; padding: 2px 4px; border-radius: 8px; font-weight: bold; font-size: 0.93em; background: #f4f4f4;">@M0udd</a>, <br clear="none"/>Are you sure you have followed <a href="http://erlerobotics.com/docs/Simulation/Configuring_your_environment.html" rel="nofollow" shape="rect" style="color: #0088cc; text-decoration: none; cursor: pointer; transition: color 150ms ease-out 0s; word-wrap: break-word; background: transparent;">this setup<span style="display: inline-block; font-weight: normal; white-space: nowrap; border-radius: 10px; padding: 4px 5px 2px; vertical-align: middle; color: #7a7a7a; font-size: 11px; text-align: center; top: -1px; position: relative; margin-left: 2px; border: none; background-color: #e4e4e4;" title="43 clicks">43</span></a> step by step? Also take a look at <a href="http://forum.erlerobotics.com/t/solved-problem-with-error-invoking-make-j4-l4-failed/803/3" shape="rect" style="color: #0088cc; text-decoration: none; cursor: pointer; transition: color 150ms ease-out 0s; word-wrap: break-word; background: transparent;">this post<span style="display: inline-block; font-weight: normal; white-space: nowrap; border-radius: 10px; padding: 4px 5px 2px; vertical-align: middle; color: #7a7a7a; font-size: 11px; text-align: center; top: -1px; position: relative; margin-left: 2px; border: none; background-color: #e4e4e4;" title="23 clicks">23</span></a>.</div></div><div style="font-family: Helvetica, Arial, sans-serif; font-size: 14px;">Anyway, under Gazebo4 should work fine. Also under Gazebo6. Try again using any of those versions.</div><div><div style="color: #222222; font-family: Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;"><div style="float: left;"><span style="font-size: 0.929em; padding-right: 8px; display: inline-block; max-width: 280px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; font-weight: bold;"><a href="http://forum.erlerobotics.com/users/IkerZamora" rev="en_rl_small" shape="rect" style="color: #646464; text-decoration: none; cursor: pointer; transition: color 150ms ease-out 0s; background: transparent;">IkerZamora</a></span><br clear="none"/></div><div style="display: inline-block; float: right; font-size: 0.929em; margin-top: 1px;"><a href="http://forum.erlerobotics.com/t/gazebo-setup-error/861/9?u=john2nd" shape="rect" style="color: #919191; text-decoration: none; cursor: pointer; transition: color 150ms ease-out 0s; background: transparent;"><span style="white-space: nowrap;" title="March 21, 2016 6:10pm">Mar 21</span></a><br clear="none"/></div><div style="color: #66ccff; position: absolute; right: 0px; top: 13px; font-size: 0.571em; opacity: 0; transition: opacity 1s ease-out;" title="Post is unread"><br clear="none"/></div></div><div style="position: relative; margin-top: 15px; color: #222222; font-family: Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;"><div style="word-wrap: break-word; overflow: hidden;"><div><br clear="none"/></div></div></div></div><div><br clear="none"/></div></span>
</div></body></html> 