<html>
<head>
  <title>[ROS] Parameter Server</title>
  <basefont face="나눔고딕" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/303244 (ko-KR, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 나눔고딕;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1572"/>
<h1>[ROS] Parameter Server</h1>

<div><span><div><a href="http://wiki.ros.org/Parameter%20Server#Private_Parameters" rev="en_rl_small">http://wiki.ros.org/Parameter%20Server#Private_Parameters</a></div><div><br/></div><div>파라미터 서버는 공유되는 다중 변수 딕셔너리로써, 네트워크 API를 통해 접근가능하다.</div><div>노드는 런타임에 파라미터를 저장하거나 불러오기 위해 이 서버를 사용한다.</div><div><br/></div><div>고성능을 위해 디자인되지 않았으므로, configuration 파라미터와 같이 정적인 비(非)이진데이터에 사용하는 것이 좋다.</div><div>글로벌 변수처럼 어디서든 접근 가능하므로 툴에서 쉽게 시스템 설정 상태를 검사할 수 있고 필요하다면 수정할 수도 있다.</div><div><br/></div><div>파라미터 서버는 XMLRPC를 사용하여 구현되며 ROS 마스터 내부에서 실행된다.</div><div>이 것은 서버의 API는 보통의 XMLRPC 라이브러리를 통해 접근 가능하다는 것을 의미한다.</div><div><br/></div><div><br/></div><div><b><span style="font-size: 24px;">1. 파라미터</span></b></div><div><br/></div><div>파라미터는 일반적인 ROS 이름 규칙을 사용하여 작명한다. </div><div>이 것은 ROS 파라미터가 토픽과 노드에 사용된 네임스페이스와 일치하는 계층을 갖는다는 것을 의미한다.</div><div>이 계층은 파라미터 이름이 충돌하는 것을 막아준다. 이 계층 제도는 파라미터를 개별적으로 혹은 트리 구조로 엑세스하는 것을 가능케한다.</div><div>예를 들어, 다음 파라미터를 보자 :</div><div><br/></div><div><div style="box-sizing: border-box; font-family: courier, monospace; font-size: 13px; display: block; padding: 5pt; margin: 0px 0px 10px; color: rgb(51, 51, 51); border: 1pt solid rgb(174, 189, 204); border-radius: 4px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(243, 245, 247);">/camera/left/name: leftcamera<br/><span style="box-sizing: border-box;"></span>/camera/left/exposure: 1<br/><span style="box-sizing: border-box;"></span>/camera/right/name: rightcamera<div>/camera/right/exposure: 1.1</div></div></div><div><br/></div><div>/camera/left/name 파라미터는 leftcamera라는 값을 갖는다. /camera/left의 값을 읽어 보면 딕셔너리 형식으로 볼 수 있다.</div><div><br/></div><div><div style="box-sizing: border-box; font-family: courier, monospace; font-size: 13px; display: block; padding: 5pt; margin: 0px 0px 10px; color: rgb(51, 51, 51); border: 1pt solid rgb(174, 189, 204); border-radius: 4px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(243, 245, 247);">name: leftcamera<div>exposure: 1</div></div></div><div><br/></div><div>그리고 /camera의 값도 얻을 수 있다. 이는 파라미터 트리구조로 나타나며, 딕셔너리 안의 딕셔너리 형식으로 볼 수 있다.</div><div><br/></div><div><div style="box-sizing: border-box; font-family: courier, monospace; font-size: 13px; display: block; padding: 5pt; margin: 0px 0px 10px; color: rgb(51, 51, 51); border: 1pt solid rgb(174, 189, 204); border-radius: 4px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(243, 245, 247);">left: { name: leftcamera, exposure: 1 }<div>right: { name: rightcamera, exposure: 1.1 }</div></div></div><div>주의 : 현재는 파라미터 네임의 네이밍 컨벤션을 강제하지 않고 있다. 그러나 미래에는 이를 강제하도록 바뀔 수도 있다.</div><div><br/></div><div><br/></div><div><b><span style="font-size: 24px;">2. 파라미터 타입</span></b></div><div><br/></div><div>파라미터 서버는 파라미터 값에 XMLRPC 데이터 타입을 사용한다. 이는 다음을 포함한다 : </div><div><ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><li style="box-sizing: border-box;">32-bit integers<span style="box-sizing: border-box;"></span></li><li style="box-sizing: border-box;">booleans<span style="box-sizing: border-box;"></span></li><li style="box-sizing: border-box;">strings<span style="box-sizing: border-box;"></span></li><li style="box-sizing: border-box;">doubles<span style="box-sizing: border-box;"></span></li><li style="box-sizing: border-box;">iso8601 dates<span style="box-sizing: border-box;"></span></li><li style="box-sizing: border-box;">lists<span style="box-sizing: border-box;"></span></li><li style="box-sizing: border-box;">base64-encoded binary data</li></ul><div style="box-sizing: border-box;"><div>당신은 또한 딕셔너리(예. 구조체)를 파라미터 서버에 저장할 수 있으며, 이는 특별한 의미를 갖는다.</div><div>파라미터 서버는 딕셔너리를 ROS 네임스페이스처럼 표현한다. 예를 들어, 다음과 같은 3개의 파라미터를 설정했다고 상상해보자.</div><div><br/></div><div><div style="box-sizing: border-box; font-family: courier, monospace; font-size: 13px; display: block; padding: 5pt; margin: 0px 0px 10px; color: rgb(51, 51, 51); border: 1pt solid rgb(174, 189, 204); border-radius: 4px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(243, 245, 247);">/gains/P = 10.0<br/><span style="box-sizing: border-box;"></span>/gains/I = 1.0<div>/gains/D = 0.1</div></div></div></div></div><div><br/></div><div>이들을 개별적으로 읽을 수도 있고(/gains/P =&gt; 0.1), 딕셔너리로 직접 리턴 받을 수도 있다(/gains). 딕셔너리로 이턴 받은 결과는 다음과 같다.</div><div><br/></div><div><div style="box-sizing: border-box; font-family: courier, monospace; font-size: 13px; display: block; padding: 5pt; margin: 0px 0px 10px; color: rgb(51, 51, 51); border: 1pt solid rgb(174, 189, 204); border-radius: 4px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(243, 245, 247);"><div>{ 'P': 10.0, 'I': 1.0, 'D' : 0.1 }</div></div></div><div><br/></div><div>ROS 네이밍 계층과 같이, 하위 네임스페이스를 표현하기 위해서 딕셔너리 안에서 딕셔너리로 감쌀 수 있다.</div><div><br/></div><div><br/></div><div><b><span style="font-size: 24px;">3. Private Parameters</span></b></div><div><br/></div><div>ROS 네이밍 컨벤션은 ~name을 private네임으로 정의한다. private네임은 하나의 노드에만 특정하여 사용되는 파라미터를 위해 주로 사용된다.</div><div>노드의 이름 앞에 붙는 접두사 &quot;~&quot;는 semi-private 네임스페이스처럼 사용하기 위한 것이다 -- 시스템의 다른 부분에서 여전히 접근 가능하지만</div><div>일반적으로 이름 충돌이 발생하는 것은 막을 수 있다.</div><div><br/></div><div>커맨드라인 명령을 통해<a href="http://wiki.ros.org/Remapping%20Arguments" rev="en_rl_minimal" style="box-sizing: border-box; text-decoration: none; border: 0px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"><span style="box-sizing: border-box; text-decoration: none; border: 0px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: gotham, helvetica, arial, sans-serif; font-size: 14px; background-image: initial; background-attachment: initial; background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"> </span><span style="box-sizing: border-box; text-decoration: none; border: 0px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-image: initial; background-attachment: initial; background-color: rgb(255, 255, 255); background-size: initial; background-origin: initial; background-clip: initial; background-position: initial; background-repeat: initial;"><span style="color: rgb(43, 127, 207);"><span style="font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;">remapping arguments</span></span></span></a>를 사용할 때, 노드 파라미터를 특정하려면 tilde(~)를 underscore(_)로 바꿔서 사용하면 된다. 예를 들면 :</div><div><br/></div><div><div style="box-sizing: border-box; font-family: courier, monospace; font-size: 13px; display: block; padding: 5pt; margin: 0px 0px 10px; color: rgb(51, 51, 51); border: 1pt solid rgb(174, 189, 204); border-radius: 4px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(243, 245, 247);"><div>rosrun rospy_tutorials talker _param:=1.0</div></div></div><div><br/></div><div><br/></div><div><span style="font-size: 24px;"><b>4.파라미터 툴</b></span></div><div><br/></div><div>rosparam 커맨드라인 도구는 파라미터 서버에 있는 파라미터를 YAML 문법을 사용하여 읽어오거나 세팅할 수 있도록 해준다.</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></span>
</div></body></html> 