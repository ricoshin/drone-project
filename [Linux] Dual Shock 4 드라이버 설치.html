<html>
<head>
  <title>[Linux] Dual Shock 4 드라이버 설치</title>
  <basefont face="나눔고딕" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/303244 (ko-KR, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 나눔고딕;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1592"/>
<h1>[Linux] Dual Shock 4 드라이버 설치</h1>

<div><span><div><a href="https://github.com/chrippa/ds4drv">https://github.com/chrippa/ds4drv</a></div><div><br/></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div><div><span style="font-size: 18px;"><b>파일 생성</b></span></div></div><div>sudo vi /etc/udev/rules.d/50-ds4drv.rules</div><div><br/></div><div><div><span style="font-size: 18px;"><b>내용</b></span></div><div>--------------</div><div>KERNEL==&quot;uinput&quot;, MODE=&quot;0666&quot;</div><div>KERNEL==&quot;hidraw*&quot;, SUBSYSTEM==&quot;hidraw&quot;, ATTRS{idVendor}==&quot;054c&quot;, ATTRS{idProduct}==&quot;05c4&quot;, MODE=&quot;0666&quot;</div><div>KERNEL==&quot;hidraw*&quot;, SUBSYSTEM==&quot;hidraw&quot;, KERNELS==&quot;0005:054C:05C4.*&quot;, MODE=&quot;0666&quot;</div><div>-------------</div></div></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div><div><span style="font-size: 18px;"><b>설치</b></span></div><div>sudo easy_install pip</div><div>sudo pip install ds4drv</div><div><span style="font-size: 18px;"><b><br/></b></span></div><div><span style="font-size: 18px;"><b>위에서 생성한 파일 설정 내용을 다시 불러옴</b></span></div><div>sudo udevadm control --reload-rules</div><div>sudo udevadm trigger</div></div></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; color: rgb(51, 51, 51); border-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); background-color: rgb(251, 250, 248);"><div><span style="font-size: 18px;"><b>Failed to create input device: &quot;/dev/uinput&quot; cannot be opened for writing</b></span></div><div><span style="font-size: 12px;">위 메시지가 뜰 때 해결 방법</span></div><div><div><span style="font-size: 12px;"><br/></span></div><div><b>생성</b></div><div><span style="font-size: 12px;">sudo vi /etc/modules-load.d/uinput.conf</span></div><div><span style="font-size: 12px;"><br/></span></div><div><b>파일 내용</b></div></div><div><span style="font-size: 12px;">################################################################################################</span></div><div><div><span style="font-size: 12px;"># in file /etc/modules-load.d/uinput.conf</span></div><div><span style="font-size: 12px;"># Load uinput module at boot</span></div><div><span style="font-size: 12px;">uinput</span></div></div><div><span style="font-size: 12px;">################################################################################################</span></div></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div><div><span style="font-size: 18px;"><b>설정 파일 생성</b></span></div></div><div><br/></div><div>기본 위치 : ~/.config/ds4drv.conf 또는 /etc/ds4drv.conf 에 생성한다. (다른 곳에 생성해도 됨)</div><div><div><br/></div><div>파일 내용(변경 가능)</div></div><div>################################################################################################</div><div><div># Many of the settings used here are directly connected to their command line</div><div># counterparts, see &quot;ds4drv --help&quot; for more information about available options.</div><div><br/></div><div>##</div><div># Global options</div><div>##</div><div>[ds4drv]</div><div># Run ds4drv in background as a daemon</div><div>#daemon = true</div><div><br/></div><div># Location of the log file in daemon mode</div><div>#daemon-log = ~/.cache/ds4drv.log</div><div><br/></div><div># Location of the PID file in daemon mode</div><div>#daemon-pid = /tmp/ds4drv.pid</div><div><br/></div><div># Enable hidraw mode</div><div>#hidraw = true</div><div><br/></div><div>##</div><div># Controller settings</div><div>#</div><div># This is the default profile for each controller.</div><div># Multiple controllers slots are defined by increasing the number.</div><div>#</div><div># Controller sections contain:</div><div># Key: A option, these are the same options that can used on the command line</div><div># but without the &quot;--&quot; prefix.</div><div># Value: The option's value, should be &quot;true&quot; if no value is needed.</div><div>#</div><div># See &quot;ds4drv --help&quot; for a complete list of available options.</div><div>##</div><div>[controller:1]</div><div># Enables LED flash on low battery</div><div>#battery-flash = true</div><div><br/></div></div><div># Sets LED color</div><div>#led = 0000ff #ff0000 빨간색</div><div>              #0000ff 파란색</div><div><div><br/></div></div><div># Enables profile switching</div><div>#profile-toggle = PS</div><div><div><br/></div><div># Profiles to cycle through</div><div>#profiles = xpad,kbmouse</div><div><br/></div><div>##</div><div># Profiles</div><div>#</div><div># Profiles allows switching controller settings during runtime.</div><div>#</div><div># Profile sections always require a name and are then enabled on a controller</div><div># with &quot;profiles = &lt;profile1&gt;[,&lt;profile2&gt;]&quot;.</div><div>#</div><div># The same settings available for controllers are used here.</div><div>##</div><div>[profile:xpad]</div><div>led = ff0000</div><div># Emulate the same button mapping as wired Xbox 360 controllers</div><div>emulate-xpad = true</div><div><br/></div><div>[profile:kbmouse]</div><div>led = 00ff00</div><div># Enable trackpad mouse</div><div>trackpad-mouse = true</div><div># Custom button mapping</div><div>mapping = keyboard</div><div># Custom action bindings</div><div>bindings = exec_stuff</div><div><br/></div><div>##</div><div># Mappings</div><div>#</div><div># Mappings let you map buttons and sticks to mouse, key and joystick events.</div><div>#</div><div># Mapping sections always require a name and are then enabled in a profile</div><div># with &quot;mapping = &lt;name&gt;&quot;.</div><div>#</div><div># Mapping sections contain:</div><div># Key: A Linux input event, see /usr/include/linux/input.h for a complete list</div><div># Value: Button on the DS4, use --dump-reports to see all the available buttons</div><div>##</div><div><br/></div><div>[mapping:keyboard]</div><div># General button to key mapping</div><div>KEY_UP = dpad_up</div><div>KEY_LEFT = dpad_left</div><div>KEY_DOWN = dpad_down</div><div>KEY_RIGHT = dpad_right</div><div>KEY_Z = button_cross</div><div>KEY_X = button_circle</div><div><br/></div><div># Turn analog stick directions into buttons</div><div>KEY_W = -left_analog_y</div><div>KEY_A = -left_analog_x</div><div>KEY_S = +left_analog_y</div><div>KEY_D = +left_analog_x</div><div><br/></div><div># Map relative mouse movement to a analog stick</div><div>REL_X = right_analog_x</div><div>REL_Y = right_analog_y</div><div><br/></div><div># Map mouse buttons</div><div>BTN_LEFT = button_r2</div><div>BTN_RIGHT = button_l2</div><div><br/></div><div># Emulate mouse wheel on r1 and l1</div><div>REL_WHEELUP = button_l1</div><div>REL_WHEELDOWN = button_r1</div><div><br/></div><div># Mouse settings</div><div>#mouse_sensitivity = 0.6</div><div>#mouse_deadzone = 5</div><div><br/></div><div># Scroll wheel emulation settings (values are in seconds)</div><div>#mouse_scroll_repeat_delay = 0.25 # How long to wait before continual scrolling</div><div>#mouse_scroll_delay = 0.05 # Lower this to scroll faster; raise to scroll slower</div><div><br/></div><div>##</div><div># Bindings</div><div>#</div><div># Bindings let you bind button combos to special built-in actions.</div><div>#</div><div># Binding sections can be defined with a name and are then enabled in a profile</div><div># with &quot;bindings = &lt;name&gt;&quot;.</div><div>#</div><div># It's also possible to define a global bindings section that is enabled</div><div># on all profiles.</div><div>#</div><div># Sections contains:</div><div># Key: A button combo</div><div># Value: An action, see next section for valid actions.</div><div>#</div><div>#</div><div># Valid actions:</div><div># next-profile Loads the next profile</div><div># prev-profile Loads the previous profile</div><div># load-profile &lt;profile&gt; Loads the specified profile</div><div># exec &lt;command&gt; [arg1] [arg2] ... Executes the command with</div><div># specified arguments</div><div># exec-background &lt;command&gt; [arg1] [arg2] ... Same as exec but launches in</div><div># the background</div><div>#</div><div>#</div><div># Actions will be pre-processed and replace variables with real values.</div><div>#</div><div># Valid variables:</div><div># $profile The current profile</div><div># $name Pretty name of the current device</div><div># $device_addr Bluetooth address of the device</div><div># $report.&lt;attribute&gt; Replace &lt;attribute&gt; with a valid attribute,</div><div># use --dump-reports to see which are available</div><div>##</div><div><br/></div><div>[bindings]</div><div># Cycle profiles</div><div>#PS+Right = next-profile</div><div>#PS+Left = prev-profile</div><div><br/></div><div># Go directly to specified profilele</div><div>#PS+Up = load-profile kbmouse</div><div>#PS+Down = load-profile default</div><div><br/></div><div>[bindings:exec_stuff]</div><div># Execute a command in the foreground, blocking until it has finished</div><div>PS+Cross = exec echo '$name'</div><div><br/></div><div># Execute a command in the background</div><div>PS+Triangle = exec-background sh -c 'echo &quot;disconnect $device_addr&quot; | bluetoothctl'</div></div><div>################################################################################################</div></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; color: rgb(51, 51, 51); border-radius: 4px; border: 1px solid rgba(0, 0, 0, 0.14902); background-color: rgb(251, 250, 248);"><div><div><b>실행 명령어 (--hidraw : usb로 연결 시 실행 옵션)</b></div></div><div><span style="font-size: 12px;">ds4drv --hidraw</span></div><div><span style="font-size: 12px;"><br/></span></div><div><b>설정파일 적용시켜서 실행</b></div><div><span style="font-size: 12px;">ds4drv --hidraw --config ~/.config/ds4drv.conf (~/.config/ds4drv.conf 는 예시이며 자신이 설정한 위치를 입력)</span></div><div><span style="font-size: 12px;">--config를 붙이지 않으면 설정파일 기본 저장 위치에 저장된 설정파일을 자동으로 찾아서 불러온다.</span></div></div><div style="font-family:gotham, helvetica, arial, sans-serif;font-size:14px;"><br/></div></span>
</div></body></html> 