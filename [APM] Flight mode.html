<html>
<head>
  <title>[APM] Flight mode</title>
  <basefont face="나눔고딕" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/303244 (ko-KR, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 나눔고딕;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1601"/>
<h1>[APM] Flight mode</h1>

<div><span><div><span style="font-size: 36px;"><b>Flight mode</b></span></div><div><br/></div><div><b><span style="font-size: 24px;">요약정리</span></b></div><div><br/></div><div>========= 기본모드 <span style="font-family:gotham, helvetica, arial, sans-serif;font-size:14px;">=========</span></div><div><br/></div><div><b>Stabilize</b> : 레벨만 유지, 나머지 수동</div><div>roll/pitch/yaw 자동 제어</div><div>(실제 수평 위치를 맞추어 주는 것이 아니라, 기체의 레벨만을 유지하려고 노력함. 바람에 밀려가도 대처하지 않음.)</div><div>나머지는 모두 수동 제어.</div><div>throttle은 평균 모터속도 직접 제어. 비행 중 스틱 완전히 내리면 추락.</div><div><br/></div><div><b>AltHold</b> : 레벨유지 + 수직위치유지</div><div>Stabilize + 고도 유지</div><div>throttle은 상승/하강 속도 조정. 스틱을 중간에 두면 일정 고도 유지.  </div><div>roll, pitch, yaw는 파일럿이 계속해서 조정해 주어야 함.</div><div>기압계 의존.</div><div>다른 모드의 기본 모드가 됨.</div><div><br/></div><div><b>Position</b> : 레벨유지 + 수평위치유지</div><div>Loiter모드와 같고, throttle만 수동제어.</div><div>입력이 없으면 수평 위치와 기수는 그대로 유지.</div><div>GPS 의존. (GPS+Compass 파란색 LED 깜빡임 확인)</div><div>throttle은 파일럿이 계속해서 조정해 주어야 함.</div><div><br/></div><div><b>Loiter</b> : 레벨유지 + 수직위치유지 + 수평위치유지</div><div>Stabilize + AltHold + Position</div><div>스틱을 모두 놓으면 현재 상태를 계속해서 유지함.</div><div>파일럿이 수시로 조정해 주어야할 컨트롤이 없음.</div><div>수평 가속상태에서 스틱을 놓으면 반대방향으로 감속.</div><div>기압계+GPS 의존. (100%신뢰할 수 없음)</div><div><br/></div><div><span style="font-family:gotham, helvetica, arial, sans-serif;font-size:14px;">========= 응용모드 </span><span style="font-family:gotham, helvetica, arial, sans-serif;font-size:14px;">=========</span></div><div><br/></div><div>Guide</div><div>Loiter모드에서 실행하는 듯.</div><div>기체가 목표지점으로 날아간 후 다른 위치를 지정하거나 다른 비행모드로 전환될때까지 대기.</div><div>GCS에 의해 컨트롤되므로 사용자가 직접 모드 전환할 필요가 없음.</div><div>GCS의 flight data 탭에서 지도 위에 우클릭하여 포인트 지정.</div><div>GPS 및 MAVLink 연결 필수.</div><div><br/></div><div>Folow Me</div><div>Guide 모드의 응용.</div><div>랩탑이나 모바일 기기를 가지고 있는 조종수를 Guide모드에서 따라오도록 함.</div><div><br/></div><div><span style="font-family:gotham, helvetica, arial, sans-serif;font-size:14px;">========= 복귀모드 </span><span style="font-family:gotham, helvetica, arial, sans-serif;font-size:14px;">=========</span></div><div><br/></div><div>Land</div><div>그 자리에서 수직하강 착륙.</div><div>10미터 전후로 속도 파라미터 설정 가능.</div><div>GPS 잡힌 경우 : Loiter모드 / GPS 안 잡힌 경우 : Stabilize모드</div><div>지면에 가까워지면 prop wash 효과로 오작동 가능성 증가</div><div><br/></div><div>RTL(Return To Launch)</div><div>최소 설정 고도로 만족 + 현재 위치에서 홈 위치로 복귀 + 대기 시간 loitering + 착륙</div><div>홈 위치는 GPS lock 이후에 콥터를 arm시키면 그 위치가 홈으로 설정 (반드시 GPS 락킹 확인)</div><div>throttle 스틱으로 복귀시나 홈 위에서 loitering하는 동안 고도를 제어할 수 있음.</div><div><br/></div><div><br/></div><div><hr/></div><div>이륙전 GPS락이 필요한 모드</div><div><ul style="box-sizing: border-box; margin: 0px 0px 24px; padding: 0px; list-style: disc; color: rgb(64, 64, 64); font-family: Lato, proxima-nova, &quot;Helvetica Neue&quot;, Arial, sans-serif; font-size: 16px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(252, 252, 252);"><li style="box-sizing: border-box; list-style: disc; margin-left: 24px;"><a href="http://ardupilot.org/copter/docs/loiter-mode.html#loiter-mode" style="box-sizing: border-box; color: rgb(155, 89, 182); text-decoration: none; cursor: pointer;"><span style="box-sizing: border-box;">Loiter</span></a></li><li style="box-sizing: border-box; list-style: disc; margin-left: 24px;"><a href="http://ardupilot.org/copter/docs/rtl-mode.html#rtl-mode" style="box-sizing: border-box; color: rgb(155, 89, 182); text-decoration: none; cursor: pointer;"><span style="box-sizing: border-box;">RTL (Return-to-Launch)</span></a></li><li style="box-sizing: border-box; list-style: disc; margin-left: 24px;"><a href="http://ardupilot.org/copter/docs/auto-mode.html#auto-mode" style="box-sizing: border-box; color: rgb(155, 89, 182); text-decoration: none; cursor: pointer;"><span style="box-sizing: border-box;">Auto</span></a></li><li style="box-sizing: border-box; list-style: disc; margin-left: 24px;"><a href="http://ardupilot.org/copter/docs/ac2_guidedmode.html#ac2-guidedmode" style="box-sizing: border-box; color: rgb(155, 89, 182); text-decoration: none; cursor: pointer;"><span style="box-sizing: border-box;">Guided</span></a></li><li style="box-sizing: border-box; list-style: disc; margin-left: 24px;"><a href="http://ardupilot.org/copter/docs/drift-mode.html#drift-mode" style="box-sizing: border-box; color: rgb(155, 89, 182); text-decoration: none; cursor: pointer;"><span style="box-sizing: border-box;">Drift</span></a></li><li style="box-sizing: border-box; list-style: disc; margin-left: 24px;"><a href="http://ardupilot.org/copter/docs/poshold-mode.html#poshold-mode" style="box-sizing: border-box; color: rgb(155, 89, 182); text-decoration: none; cursor: pointer;"><span style="box-sizing: border-box;">PosHold</span></a></li><li style="box-sizing: border-box; list-style: disc; margin-left: 24px;"><a href="http://ardupilot.org/copter/docs/ac2_followme.html#ac2-followme" style="box-sizing: border-box; color: rgb(155, 89, 182); text-decoration: none; cursor: pointer;"><span style="box-sizing: border-box;">Follow Me</span></a></li><li style="box-sizing: border-box; list-style: disc; margin-left: 24px;"><a href="http://ardupilot.org/copter/docs/circle-mode.html#circle-mode" style="box-sizing: border-box; color: rgb(155, 89, 182); text-decoration: none; cursor: pointer;"><span style="box-sizing: border-box;">Circle</span></a></li></ul></div><div><br/></div><div><br/></div><div><hr/></div><div style="font-size: 14px;"><b><span style="font-size: 18px;"><br/></span></b></div><div style="font-size: 14px;"><span style="font-size: 18px;"><b>Altitude hold (AltHold)</b></span></div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;">이 모드에서는 콥터가 일정한 고도를 유지한다. roll, pitch, yaw는 일반적으로 컨트롤 된다. </div><div style="font-size: 16px;">현재 고도를 유지하기 위해 자동으로 쓰로틀이 컨트롤 되고, roll, pitch, yaw는 stabilize mode와 동일하게 작동된다.</div><div style="font-size: 16px;">자동 고도 고정은  Loiter, Sport와 같은 다른 많은 비행 모드에도 적용되는 특징이다. 여기서 언급되는 정보는 이들 모드에서도 동일하게 적용된다.</div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;">비행 컨트롤러는 기압계를 사용하는데 이 것은 고도를 결정하는데 공기압을 사용한다는 의미이다.</div><div style="font-size: 16px;">만약 악천후등으로 비행지역의 공기압이 변한다면, 콥터는 실제 고도가 아닌 변화된 기압에 의해 움직일 것이다.</div><div style="font-size: 16px;">26피트 이하에서는 초음파(sonar) 센서를 활용하는 것이 보다 정확한 고도 유지 방법이 될 것이다.</div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><br/></div><div><span style="font-size: 18px;"><b>컨트롤</b></span><br/><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;">조종사는 쓰로틀(throttle) 스틱으로 상승(climb), 하강(descent)율을 조정할 수 있다.</div><div style="font-size: 16px;">만약 쓰로틀 스틱이 중간(40~60%)에 위치한다면, 콥터는 현재 고도를 유지할 것이다.</div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><b>Dataflash log를 이용한 AltHold 성능 확인</b></div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;">고도유지 성능을 확인하는 가장 좋은 방법은 기체로부터 dataflash 로그를 다운 받아서 mavgraph로 열어보는 것이다.</div><div style="font-size: 16px;">기압계고도 (CTUN.BarAlt)와 조종사가 원하는 고도(CTUN.DAlt), 관성 네비게비게이션에 기반한 고도 추정(CTUN.Alt)</div><div style="font-size: 16px;"><br/></div></div><div style="font-size: 16px;"><br/></div><div><hr/></div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><b><span style="font-size: 18px;">Follow Me Mode</span></b></div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;">telemetry radio와 ground station을 사용하여 콥터가 움직이는 당신을 따라다니도록 한다.</div><div style="font-size: 16px;">폰이나 타블렛을 ground station으로 사용하는 것이 가장 쉬운 방법이다.</div><div style="font-size: 16px;">APM:Copter의 동적 웨이포인트 기능과 MAVLink의 telemetry 명령을 사용한다.</div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;">필요한 것들:</div><div style="font-size: 16px;">- telemetry가 있는 APM:Copter</div><div style="font-size: 16px;">- 랩탑이나 스마트폰</div><div style="font-size: 16px;">- Ground Station에서의 GPS 신호</div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;">사용법:</div><div style="font-size: 16px;">- APM:Copter를 필드에 세팅하고 무선 telemetry를 통해서 MAVLink 연결을 한다.</div><div style="font-size: 16px;">- 당신의 기체를 Loiter모드로 설정한다.</div><div style="font-size: 16px;">- 당신의 GPS 디바이스가 연결되었는지 확인한다.</div><div style="font-size: 16px;">- 이륙하고 공중에 뜨면 Loiter모드로 전환한다. (드론이 따라올때 프로펠러에 다치지 않을 충분한 고도로 설정)</div><div style="font-size: 16px;">- Ground Station 비행 데이터 화면에서 근처의 한 지점을 클릭한다. 이 것이 동작하면 Follow Me 모드가 준비된 것이다.</div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><br/></div><div><hr/></div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><b><span style="font-size: 18px;">Guided Mode</span></b></div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;">APM:Copter는 콥터를 목표 지역까지 동적으로 가이드할 수 있다. <span style="font-size: 14px;">telemetry radio 모듈과 ground station 어플리케이션을 사용한다.</span></div><div style="font-size: 16px;">Ground station 비행 데이터 지도(flight data map) 위에서 한 지점을 클릭함으로써 콥터가 해당 지점으로 움직이게 할 수 있다.</div><div style="font-size: 16px;">위치에 도달하면 그 지점에서 호버링하면서 다음 타겟을 기다릴 것이다.</div><div style="font-size: 16px;">Follow Me모드도 콥터가 조종사를 따라다니게 하기 위하여 Guided모드를 사용한다.</div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;">- 필드에 콥터를 세팅하고 당신의 콥터와 랩탑을 연결한다. (무선 telemetry를 통한 MAVLink연결)</div><div style="font-size: 16px;">- 당신의 랩탑이 잘 작동하는지, GPS가 잡혔는지(locked) 확인한다.</div><div style="font-size: 16px;">- Stabilize 모드에서 이륙을 하고, 고도를 적당히 맞춘 뒤, Loiter모드로 전환</div><div style="font-size: 16px;">- Ground station 비행 데이터 화면 지도에서 주변의 한 점에 우클릭</div><div style="font-size: 16px;">- 기체가 목표지점으로 날아간후 다른 위치를 지정하거나 다른 비행모드로 전환될때까지 대기함</div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;">*가이드 모드는 다른 일반적인 비행모드처럼 모드전환을 위한 스위치를 할당할 필요가 없다.</div><div style="font-size: 16px;">(역주-GCS에서 일방적으로 제어하므로 사용자가 직접 모드전환하여 조작할 이유가 없기 때문인 듯)</div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><br/></div><div><hr/></div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><span style="font-size: 18px;"><b>Land Mode</b></span></div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;">착륙 모드는 콥터를 직선으로 하강시킨다.</div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><b>1. 지면으로부터 10미터까지 하강 </b><span style="font-size: 14px;">(혹은 초음파 센서가 아래에 무엇을 감지했을 때 그로부터 10미터)</span></div><div style="font-size: 16px;">Altitude Hold 컨트롤러를 사용하여 WPNAV_SPEED_DN 파라미터(수정 가능)에서 결정되는 속도로 하강한다.</div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;">2.10미터 이후에서의 하강</div><div style="font-size: 16px;">LAND_SPEED 파라미터에서 특정하고 있는 속도로 하강 (기본값 50cm/s)</div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;">3.땅에 닿으면 콥터는 자동으로 모터의 전력을 차단하고, 조종기의 쓰로틀이 최소값이면  콥터를 disarm시킨다.</div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;">- 만약 기체가 GPS 락이 안되어 있으면 수평 컨트롤은 stabilize 모드에 들어가고 조종사는 롤/피치 기울기를 제어할 수 있다.</div><div style="font-size: 16px;">- 만약 기체가 GPS 락이 되어있으면 착륙 컨트롤러가 수평 위치를 제어하지만, 조종사가 Loiter모드로써 목표 수평위치를 조정할 수 있다.</div><div style="font-size: 16px;">- 경고 : 만약 Alt Hold를 기반으로하는 모드에서 지면에 가까운 위치에 다다랐을 때 콥터가 오작동한다면,</div><div style="font-size: 16px;">   그것은 프로펠러가 생성한 공기압이 지면으로부터 튕겨나오면서 생기는 기압 변화로 기압계가 잘못된 수치를 감지하여 벌어지는 현상일 수 있다.</div><div style="font-size: 16px;">    이는 로그 파일에서 기압계 값을 확인했을때 지면의 근처에서 값이 튀거나 진동하는 것을 확인함으로써 쉽게 확인할 수 있다.</div><div style="font-size: 16px;">   만약 이 것이 문제가 된다면, flight controller를 prop wash 효과로부터 벗어날 수 있는 곳에 부착하거나 적절한 보호막을 설치해줄 수 있다.</div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><br/></div><div><hr/></div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><span style="font-size: 18px;"><b>Loiter Mode</b></span></div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;">Loiter는 자동으로 머리의 방향과 고도 및 위치를 유지한다. 조종수는 loiter모드에서 수동인 것처럼 콥터를 조종할 수 있다.</div><div style="font-size: 16px;">스틱을 놓으면 현재 위치를 유지할 것이다.</div><div style="font-size: 16px;">좋은 loiter 성능을 위해서는 양호한 GPS위치와 나침반의 낮은 자기장 간섭, 그리고 낮은 진동이 매우 중요하다.</div><div style="font-size: 16px;">Loiter mode는 AltHold mode의 고도 컨트롤러를 포함한다.</div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><b>컨트롤</b></div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;">조종수는 컨트롤 스틱으로 콥터의 위치를 제어할 수 있다. ArduCopter3.1(혹은 그 이상)에서 당신은 loiter mode를 장착(arm)할 수 있다.</div><div style="font-size: 16px;">그러나 GPS 3차원 락킹이 되어 있는 상태에서 HDOP가 2.0이나 그 이하로 작을 때만 하는 것이 좋다.</div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;">- 수평 위치는 롤/피치 컨트롤 스틱으로 조정가능하다. 기본 최대 수평 속도는 5m/s이다. 조종수가 스틱을 놓으면 콥터는 정지하기 위해 감속할 것이다.</div><div style="font-size: 16px;">- 고도는 쓰로틀 제어 가능하다 (AltHold모드에서 처럼)</div><div style="font-size: 16px;">- 머리 방향은 요(yaw)스틱으로 설정할 수 있다.</div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><b>튜닝</b></div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;">loiter 모드에서 최대 수평 속도는 WPNAV_LOIT_SPEED 파라미터로 조정할 수 있다. 단위는 cm/s이다. (500은 5m/s)</div><div style="font-size: 16px;">loiter 모드에서의 최대 가속도는 항상 loiter 속도의 1/2이다.</div><div style="font-size: 16px;">Loiter PID의 P값은 수평 위치 오차(목표 위치와 실제 위치간의 차이)를 가지고 목적지로 향하는 속도값을 얼마로 해야할지 변환해주는데 사용.</div><div style="font-size: 16px;">Rate Loiter PID 값은 목적지에 대한 목표 속도를 목표 가속도로 변환해주는데 사용.</div><div style="font-size: 16px;">목표 가속도는 stabilize mode에서 사용되는 각도 컨트롤과 같은 방식으로 처리되어 최종적으로는 기체의 기울기 각도로 환산됨.</div><div style="font-size: 16px;">PID 값은 일반적으로는 초기 세팅된 값에서 조정할 필요가 없음.</div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><b>Dataflash 로그를 사용하여 loiter 성능 확인</b></div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;">loiter의 수평 성능은 로그 파일을 열어서 NTUN 메세지의 DesVelX vs VelX, 그리고 DesVelY vs VelY를 각각 그래프를 그려보면 가장 잘 알 수 있다.</div><div style="font-size: 16px;">성능이 좋은 콥터는 실제 속도가 목표 속도를 잘 따라가는 형태의 그래프를 보일 것이다. </div><div style="font-size: 16px;">X는 위도 (북쪽이 +/남쪽이 -), Y는 경도 (동쪽이 +/ 서쪽이 -)이다.</div><div style="font-size: 16px;"><span style="color: rgb(0, 0, 0); font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; display: inline !important; background-color: rgb(229, 229, 229);">mavgraph.py</span> <span style="box-sizing: border-box; color: rgb(0, 0, 0); font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">$LOITER1</span><span style="color: rgb(0, 0, 0); font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; display: inline !important; background-color: rgb(229, 229, 229);">.BIN</span> <span style="box-sizing: border-box; color: rgb(2, 46, 153); font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">&quot;NTUN.DVelY&quot;</span> <span style="box-sizing: border-box; color: rgb(2, 46, 153); font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">&quot;NTUN.VelY&quot;</span><span style="color: rgb(0, 0, 0); font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; display: inline !important; background-color: rgb(229, 229, 229);"> --flightmode=apm</span></div><div style="font-size: 16px;">*AltHold모드와 같은 방법으로 고도 유지 성능을 확인할 수 있음.</div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><b>흔히 발생하는 문제</b></div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;">위에서 언급했듯이, loiter 모드는 AltHold모드의 고도 유지 컨트롤러를 포함하고 있다.</div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;">1.기체가 무난하게 loitering하고 있다가 갑자기 잘못된 방향으로 날아가는 경우 : 보통 작은 GPS 문제로 인하여 발생함. 이 현상을 완전히 막을 수는 없음. 조종수는 언제나 수동 컨트롤로 전환하기 위한 준비를 하고 있어야 함. 그전에 이륙전에 좋은 GPS HDOP를 확보하는 것은 매우 좋으며,</div><div style="font-size: 16px;">GPSGLITCH_RADIUS나 GPSGLITCH_ACCEL파라미터를 낮추는 것이 glitch에 대한 보호를 더욱 강화하는데 도움을 줄 수 있다.</div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><span style="font-size: 14px;">2.loiter모드가 시작되자마자 기체가 잘못된 방향응로 이륙하는 경우 : 1번과 같은 이유이거나 나침반 오차가 90도보다 큰 경우이다. </span></div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><br/></div><div><hr/></div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><span style="font-size: 18px;"><b>Position Mode</b></span></div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;">Position 모드는 loiter모드와 같지만 쓰로틀은 수동으로 제어한다. 이 모드에서는 콥터가 기수와 위치를 일정하게 유지하면서 고도는 쓰로틀로 제어할 수 있다.</div><div style="font-size: 16px;">Position 모드는 GPS에 종속적이며, 이 모드를 장착하기 전에 GPS가 락킹되어 있는지 확실히 하는 것이 중요하다. </div><div style="font-size: 16px;">- APM의 파란색 LED 완전히 켜짐</div><div style="font-size: 16px;">- GPS 단일 모듈의 경우 파란색 LED 완전히 켜짐</div><div style="font-size: 16px;">- GPS+Compass 모듈의 경우 파란색 LED 깜빡임</div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><br/></div><div><hr/></div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><span style="font-size: 18px;"><b>RTL mode (Return To Launch)</b></span></div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;">RTL mode에서는 콥터가 현재 위치에서부터 홈 위치로 돌아온다. 몇몇 조정가능한 파라미터에 의해 RTL 모드에서의 행동이 조절될 수 있다.</div><div style="font-size: 16px;">이하에서는 RTL 모드를 커스터마이징하는 방법에 대해 설명한다.</div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;">RTL모드가 선택되면 콥터는 홈위치로 복귀.</div><div style="font-size: 16px;">RTL_ALT(기본값 15m)가 현재 고도보다 높으면 더 상승을 하고, 더 낮으면 현재 고도를 유지한다.</div><div style="font-size: 16px;">home 위치는 콥터가 arm되었던 위치를 말한다. 그러므로 홈은 항상 콥터의 실제 GPS 이륙 위치이고, 가로막히지 않고 사람들이 없는 곳이어야 한다.</div><div style="font-size: 16px;">*RTL모드에서는 고도를 결정하기 위해 기압계를 주요 수단으로 활용하므로, 주변 기압의 변화는 실제 고도와 다른 결과 추정을 야기할 수 있다.</div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><b>옵션</b></div><div style="font-size: 16px;"><b><br/></b></div><div style="font-size: 16px;"><b>RTL_ALT</b> : 홈으로 돌아오기 전에 콥터가 보장해야할 최소 고도</div><div style="font-size: 16px;">- 현재 고도를 유지하려면 0으로 설정</div><div style="font-size: 16px;">- 1부터 8000 센티미터 사이 값으로 설정 가능</div><div style="font-size: 16px;">- 기본값은 15미터(1500)</div><div style="font-size: 16px;"><b>RTL_ALT_FINAL</b> : 콥터가 홈으로 돌아오는 과정을 모두 끝낸 후 이동해야하는 고도</div><div style="font-size: 16px;">- 0으로 설정하면 돌아온 후 자동으로 착륙까지 수행</div><div style="font-size: 16px;">- 0부터 1000 센티미터 사이 값으로 설정 가능</div><div style="font-size: 16px;"><b>RTL_LIT_TIME</b> :  최종 하강을 시작하기 전에 홈 위에서 loiter하는 시간 (밀리초)</div><div style="font-size: 16px;">- 0부터 60,000 밀리초 사이로 조정 가능</div><div style="font-size: 16px;"><b>WP_YAW_BEHAVIOR</b> :  미션이나 RTL 도중에 어떻게 autopilot을 제어할 것인지 세팅</div><div style="font-size: 16px;">- 0 : 절대 기수를 비꾸지 않음</div><div style="font-size: 16px;">- 1 : 다음 웨이포인트를 향함(<span style="font-size: 14px;">RTL 수행 동안 홈을 향하는 것을 포함)</span></div><div style="font-size: 16px;">- 2 : 다음 웨이포인트를 향함(RTL 수행 동안은 제외함 - 가장 마지막 기수방향 유지) </div><div style="font-size: 16px;"><b>LAND_SPEED</b> :  착륙 속도 (초당 센티미터)</div><div style="font-size: 16px;">- 20부터 200 cm/s로 조정가능</div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><b>주의</b></div><div style="font-size: 16px;"><b><br/></b></div><div style="font-size: 16px;">다른 네비게이션 설정도 RTL 모드에 영향을 줌.</div><div style="font-size: 16px;"><ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 0px; color: rgb(0, 0, 0); font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><li style="box-sizing: border-box;">WPNAV_ACCEL</li><li style="box-sizing: border-box;">WPNAV_LOITER_SPEED</li><li style="box-sizing: border-box;">WPNAV_SPEED_DN</li><li style="box-sizing: border-box;">WPNAV_SPEED_UP</li></ul></div><div style="font-size: 16px;">홈위치에서 arming하고 이륙하기 전에 GPS 락킹을 반드시 확인</div><div style="font-size: 16px;">UBLOX GPS모듈의 경우에는 위성을 찾을때는 LED가 꺼져있고, 찾으면 깜빡임.</div><div style="font-size: 16px;">착륙 후 콥터를 재장착하면 홈이 리셋됨. </div><div style="font-size: 16px;">이륙전에 GPS락킹을 하지 않고 비행중에 최초로 락되는 경우는 그 위치가 홈이 됨.</div><div style="font-size: 16px;">RTL은 이동 중에 waypoint_speed로 속도를 결정</div><div style="font-size: 16px;">콥터가 홈에 도착하면 loiter모드에서 설정한 대기시간만큼 기다리다가 착륙</div><div style="font-size: 16px;">자동 착륙을 하지 않고 비행을 계속하려면 착륙 타이머를 0바꿔주면 됨.</div><div style="font-size: 16px;">쓰로틀 스틱은 복귀시나 홈 위에서 loitering하는 동안의 고도를 제어함. (모터를 직접 제어하지는 않음)</div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><br/></div><div><hr/></div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><span style="font-size: 18px;"><b>Stabilize Mode</b></span></div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;">Stabilize mode는 기체를 수동으로 조작하도록 허용하되, 스스로 롤과 피치 축의 수평을 잡는다.</div><div style="font-size: 16px;">만약 당신이 비행하는 것을 배우는 중이라면, Stabilize 대신에 Alt Hold나 Loiter모드를 시도해라.</div><div style="font-size: 16px;">한번에 너무 많은 조작에 집중하지 않아도 되서, 사고를 줄여줄 것이다.</div><div style="font-size: 16px;">만약 기체의 컨트롤을 잃어버리면 항상 stabilize와 같은 수동 모드로 전환하라.</div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;">- 조종수의 롤/피치 컨트롤 입력은 콥터의 기울기 각도를 제어한다. 만약 스틱을 놓으면 자동으로 수평을 잡는다.</div><div style="font-size: 16px;">- 조종수는 기체가 바람에 밀릴때마다, 롤과 피치 입력을 주어서 제자리를 유지하도록 명령을 주어야할 것이다.</div><div style="font-size: 16px;">- 조종수의 요(yaw) 입력은 기수의 변화 정도를 컨트롤 한다. 스틱을 놓으면 현재 기수를 유지한다.</div><div style="font-size: 16px;">- 조종수의 쓰로틀 입력은 평균 모터 속도를 제어한다. 이는 고도를 유지하기 위해 일정한 쓰로틀의 조정이 필요하는 것을 의미한다.</div><div style="font-size: 16px;">   만약 조종수가 쓰로틀은 완전히 내리면 모터는 최소 속도(MOT_SPIN_ARMED)로 돌아갈 것이다.</div><div style="font-size: 16px;">   만약 기체가 비행중이라면 고도제어를 잃고 추락할 것이다.</div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;">Stabilize 모드의 성능을 보기 위해서는 ATT메세지의 DesRoll(목표값) vs Roll(실제값)과 DesPitch(목표값) vs Pitch(실제값)의</div><div style="font-size: 16px;">그래프를 그리는 것이 최선이다. 실제값을 목표값을 잘 따라가야 한다.</div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><b>흔한 문제점</b></div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;">- 새로 산 콥터가 이륙 직후에 뒤집힘 : 이는 모터 순서가 틀렸거나 잘못된 방향으로 회전하거나 잘못된 프로펠러를 사용했기 때문에 야기된다.</div><div style="font-size: 16px;">- <span style="color: rgb(255, 0, 0);"><b>콥터가 바람이 없는데도 항상 한쪽 방향으로 비행하는 경향</b></span> : 콥터의 수평을 잡기 위해 <b>SaveTrim</b>이나 <b>AutoTrim</b>을 시도한다.</div><div style="font-size: 16px;"><a href="https://www.google.co.kr/?gfe_rd=cr&amp;ei=KoSRV7K-H5GL8QfYx5voCg#newwindow=1&amp;q=copter+SaveTrim" rev="en_rl_small">https://www.google.co.kr/?gfe_rd=cr&amp;ei=KoSRV7K-H5GL8QfYx5voCg#newwindow=1&amp;q=copter+SaveTrim</a></div><div style="font-size: 16px;">- 비행중에 갑자기 뒤집힘 : 이는 거의 모터나 ESC의 기계적 결함에 의해 발생한다.</div><div style="font-size: 16px;"><br/></div><div style="font-size: 16px;"><br/></div><div style="font-family:gotham, helvetica, arial, sans-serif;font-size:14px;"><br/></div></span>
</div></body></html> 