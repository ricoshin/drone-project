<html>
<head>
  <title>[ROS] CMakeLists.txt file used for a catkin project</title>
  <basefont face="나눔고딕" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/303244 (ko-KR, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 나눔고딕;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1349"/>
<h1>[ROS] CMakeLists.txt file used for a catkin project</h1>

<div>
<span><div><a href="http://wiki.ros.org/catkin/CMakeLists.txt" rev="en_rl_small" shape="rect">http://wiki.ros.org/catkin/CMakeLists.txt</a><br clear="none"/></div><div><br clear="none"/></div><ol><li>개요</li></ol><div><br clear="none"/></div><div>- CMakeLists.txt는 소프트웨어 패키지를 빌드하기 위한 CMake 빌드 시스템의 입력이다.</div><div>- 한마디로 어떻게 코드를 빌드하고 어디에 인스톨할 것인지에 대한 내용을 담고 있다.</div><div>- CMake로 빌드되는 패키지는 하나 이상의 CMakeLists.txt파일을 갖을 수 있다.</div><div>- catkin프로젝트는 원래의 CMake 표준 vanilla CMakeLists.txt파일을 기반으로 하며, 다만 몇가지 추가적 제약사항을 더 포함하고 있다.</div><div><br clear="none"/></div><ol start="2"><li>전체 구조와 순서</li></ol><div><br clear="none"/></div><div>당신의 CMakeLists.txt파일은 반드시 다음 포맷을 준수해야하며, 그렇지 않으면 빌드가 잘 되지 않을 것이다. 순서가 중요하다.</div><div><div style="box-sizing: border-box; margin: 0.25em 0px;"><div><strong><br clear="none"/></strong></div></div></div><ol type="1"><li style="font-weight: normal; box-sizing: border-box;"><div style="box-sizing: border-box; margin: 0.25em 0px;"><span style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span style="color: #333333;"><strong style="box-sizing: border-box; font-weight: bold;">요구되는 CMake 버전</strong> (</span></span><tt style="box-sizing: border-box;">cmake_minimum_required</tt><span style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span style="color: #333333;">)</span></span></div><ul type="1"><li style="font-weight: normal; box-sizing: border-box;">2.8.3 버전 이상</li></ul></li><li style="box-sizing: border-box;"><div style="box-sizing: border-box; margin: 0.25em 0px;"><span style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span style="color: #333333;"><strong>패지지명</strong> (</span></span><tt style="font-weight: normal; box-sizing: border-box;">project()</tt><span style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span style="color: #333333;">)</span></span></div><ul type="1"><li style="box-sizing: border-box;"><span style="color: #333333; font-family: Helvetica Neue,Helvetica,Arial,sans-serif;">이후 CMake script 어디에서든 ${PROJECT_NAME} 변수를 사용하여 프로젝트명을 참조할 수 있다.</span></li></ul></li><li style="font-weight: normal; box-sizing: border-box;"><div style="box-sizing: border-box; margin: 0.25em 0px;"><span style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span style="color: #333333;"><strong style="box-sizing: border-box; font-weight: bold;">빌드에 필요한 다른 CMake/Catkin 패키지 찾기</strong> (</span></span><tt style="box-sizing: border-box;">find_package()</tt><span style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span style="color: #333333;">)</span></span></div><ul type="1"><li style="font-weight: normal; box-sizing: border-box;"><span style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span style="color: #333333;">당신의 패키지를 빌드하는데 필요한 다른 CMake 패키지들을 명시한다.</span></span></li><li style="font-weight: normal; box-sizing: border-box;">최소한 catkin에 대한 dependency는 필요하기 때문에 다음은 반드시 항상 써준다.<ul type="1"><li style="font-weight: normal; box-sizing: border-box;">find_pakckage(catkin REQUIRED)</li></ul></li><li style="font-weight: normal; box-sizing: border-box;">find_package가 하는일 : 찾은 패키지에 대한 정보를 포함하는 CMake 환경변수 생성. 아랫줄부터 CMake 스크립트에서 활용가능.<ul type="1"><li style="font-weight: normal; box-sizing: border-box;">&lt;패키지명&gt;_INCLUDE_DIRS or &lt;패키지명&gt;_INCLUDES : 패키지에 의해 export된 헤더 경로</li><li style="font-weight: normal; box-sizing: border-box;">&lt;패키지명&gt;_LIBRARIES or &lt;패키지명&gt;_LIBS : 패키지에 의해 export된 라이브러리</li></ul></li><li style="font-weight: normal; box-sizing: border-box;">다른 catkin 패키지의 경우 자동으로 catkin의 요소(component-CMake 용어-)로 변환된다.</li><li style="font-weight: normal; box-sizing: border-box;">실제로 catkin 패키지들은 catkin의 구성요소는 아니지만, 사용자의 타이핑 편의를 위하여 기능 제공. </li><li style="font-weight: normal; box-sizing: border-box;">그러므로 따로 find_package를 해줄 필요없이 COMPONENTS로서 나열해주면 된다.<ul type="1"><li style="font-weight: normal; box-sizing: border-box;">find_package(catkin REQUIRED COMPONENTS nodelet)</li></ul></li><li style="font-weight: normal; box-sizing: border-box;"><span style="color: #ff6600; font-family: gotham, helvetica, arial, sans-serif; font-size: 14px;">빌드 플래그로 주고싶은 component만 포함시켜야 함. 런타임 dependency는 추가하지 않는다.</span></li><li style="font-weight: normal; box-sizing: border-box;">component로 명시하는 장점 : 같은 catkin_환경변수 하나에 요소로 선언한 모든 패키지 정보를 추가하여 함께 관리할 수 있다. </li><li style="font-weight: normal; box-sizing: border-box;">다음과 같이 따로 써줘도 된다. 그러나 불편하므로 굳이 하지 않는다.<ul type="1"><li style="font-weight: normal; box-sizing: border-box;">find_package(catkin REQUIRED)</li><li style="font-weight: normal; box-sizing: border-box;">find_package(nodelet REQUIRED)</li></ul></li><li style="font-weight: normal; box-sizing: border-box;">C++과 Boost를 사용하려면 find_package()에 Boost와 사용할 component를 명시해 줘야 한다. Boost thread를 사용할 경우:<ul type="1"><li style="font-weight: normal; box-sizing: border-box;">find_pacage(Boost REQUIRED COMPONENTS thread)</li></ul></li></ul></li><li style="font-weight: normal; box-sizing: border-box;"><div style="box-sizing: border-box; margin: 0.25em 0px;"><span style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span style="color: #333333;"><strong style="box-sizing: border-box; font-weight: bold;">Message/Service/Action 생성 준비</strong> (</span></span><tt style="box-sizing: border-box;">add_message_files(), add_service_files(), add_action_files()</tt><span style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span style="color: #333333;">)</span></span></div></li><li style="font-weight: normal; box-sizing: border-box;"><div style="box-sizing: border-box; margin: 0.25em 0px;"><span style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span style="color: #333333;"><strong style="box-sizing: border-box; font-weight: bold;">message/service/action 생성 호출 </strong> (</span></span><tt style="box-sizing: border-box;">generate_messages()</tt><span style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span style="color: #333333;">)</span></span></div></li><li style="font-weight: normal; box-sizing: border-box;"><div style="box-sizing: border-box; margin: 0.25em 0px;"><span style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span style="color: #333333;"><strong style="box-sizing: border-box; font-weight: bold;">내보낼 패키지 빌드 정보 명시</strong> (</span></span><tt style="box-sizing: border-box;">catkin_package()</tt><span style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span style="color: #333333;">)</span></span></div><ul type="1"><li style="font-weight: normal; box-sizing: border-box;"><span style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span style="color: #333333;">catkin_package()는 catkin에서 새롭게 선언하고 있는 CMake 매크로이다.</span></span></li><li style="font-weight: normal; box-sizing: border-box;"><span style="color: #333333;"><span style="font-family: 'Helvetica Neue';">find_package와 pkg-config를 위한 코드를 생성하여 다른 패키지에서 현재 패키지에 대한 정보를 얻을 수 있도록 한다.</span></span></li><li style="font-weight: normal; box-sizing: border-box;"><span style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span style="color: #333333;">빌드시스템이 pkg-confing와 CMake파일들을 생성하기 위한 catkin-specific한 정보를 지정해준다.</span></span></li><li style="font-weight: normal; box-sizing: border-box;"><span style="color: #333333; font-family: Helvetica Neue,Helvetica,Arial,sans-serif;">이 함수는 반드시 add_library()나 add_executable()에서 타겟을 선언해주기 이전에 호출되어야 한다.</span></li><li style="font-weight: normal; box-sizing: border-box;"><span style="color: #333333;"><span style="font-family: 'Helvetica Neue';">5개의 선택적 인수를 갖는다.</span></span><ul type="1"><li style="font-weight: normal; box-sizing: border-box;"><span style="font-family: 'Helvetica Neue';"><span style="color: #333333;">INCLUDE_DIRS : 패키지에서 사용할 export된 include(헤더)경로(예-cflags)</span></span></li><li style="font-weight: normal; box-sizing: border-box;">LIBRARIES : 프로젝트로부터 export된 라이브러리들</li><li style="font-weight: normal; box-sizing: border-box;">CATKIN_DEPENDS : 현재 프로젝트가 의존하는 다른 캐킨 프로젝트</li><li style="font-weight: normal; box-sizing: border-box;">DEPENDS : 현재 프로젝트가 의존하는 비(非)캐킨 프로젝트</li><li style="font-weight: normal; box-sizing: border-box;">CFG_EXTRAS : 추가적인 설정 옵션들</li></ul></li></ul></li><li style="box-sizing: border-box;"><p style="box-sizing: border-box; margin: 0.25em 0px;"><span style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span style="color: #333333;"><strong>빌드할 라이브러리/실행파일</strong> (</span></span><tt style="font-weight: normal; box-sizing: border-box;">add_library()/add_executable()/target_link_libraries()</tt><span style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span style="color: #333333;">)</span></span><span style="box-sizing: border-box;"></span></p></li><li style="box-sizing: border-box;"><p style="box-sizing: border-box; margin: 0.25em 0px;"><span style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span style="color: #333333;"><strong>빌드 테스트</strong> (</span></span><tt style="font-weight: normal; box-sizing: border-box;">catkin_add_gtest()</tt><span style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span style="color: #333333;">)</span></span><span style="box-sizing: border-box;"></span></p></li><li style="box-sizing: border-box;"><div style="box-sizing: border-box; margin: 0.25em 0px;"><span style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span style="color: #333333;"><strong>설치규칙</strong> (</span></span><tt style="font-weight: normal; box-sizing: border-box;">install()</tt><span style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span style="color: #333333;">)</span></span></div></li></ol><div style="box-sizing: border-box;"><div><span style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span style="color: #333333;"><br clear="none"/></span></span></div><div><span style="color: #333333;"><span style="font-family: 'Helvetica Neue';">Extracted CMake API reference</span></span></div></div><div style="box-sizing: border-box;"><div><a href="http://docs.ros.org/groovy/api/catkin/html/dev_guide/generated_cmake_api.html#catkin-package" rev="en_rl_small" shape="rect">http://docs.ros.org/groovy/api/catkin/html/dev_guide/generated_cmake_api.html#catkin-package</a><br clear="none"/></div></div><div><br clear="none"/></div></span>
</div></body></html> 