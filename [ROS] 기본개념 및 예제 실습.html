<html>
<head>
  <title>[ROS] 기본개념 및 예제 실습</title>
  <basefont face="나눔고딕" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/303244 (ko-KR, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 나눔고딕;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1645"/>
<h1>[ROS] 기본개념 및 예제 실습</h1>

<div><span><div><span style="font-family: '맑은 고딕';"><span style="font-size: 14px;"><br/></span></span></div><div style="font-size: 14px;"><span style="font-family: '맑은 고딕';"><a href="http://erlerobotics.com/docs/Robot_Operating_System/ROS/Basic_concepts/index.html" rev="en_rl_small">출처</a></span></div><div style="font-size: 16px;"><span style="font-family: '맑은 고딕';"><br/></span></div><div style="font-size: 16px;"><span style="font-family: '맑은 고딕';"><br/></span></div><div><span style="font-size: 24px;"><b><span style="font-family: '맑은 고딕';">&lt;기본 개념&gt;</span></b></span></div><div style="font-size: 16px;"><span style="font-family: '맑은 고딕';"><br/></span></div><div style="font-size: 16px;"><b><span style="font-family: '맑은 고딕';"><span style="font-size: 24px;">+ Nodes</span></span></b></div><div><span style="font-family: '맑은 고딕';">실행가능한 하나의 프로세스(excutable). 토픽, 서비스, 파라미터 서버를 사용하여 다른 프로세스와 통신함.</span></div><div><span style="font-family: '맑은 고딕';">노드를 사용하면 시스템의 일부에 fault가 발생해도 기능의 전부 또는 일부를 유지(fault tolerance)할 수 있으며, 노</span><span style="font-family: '맑은 고딕';">드와 기능을 분리하여 시스템을 보다 간단하게 만들어 줌. </span><span style="font-family: '맑은 고딕';">통신할때 모호성을 피하기 위해 노드의 이름은 고유해야 함. </span><span style="font-family: '맑은 고딕';">roscpp(c++)와 rospy(python) 클라이언트 라이브러리 사용가능.</span></div><div><span style="font-family: '맑은 고딕';"><br/></span></div><div><span style="font-family: '맑은 고딕';"><b>rosnode: </b> ROS에서 노드를 다루고 노드 정보를 보여주는 명령어command-line 툴</span></div><div><span style="font-family: '맑은 고딕';"><br/></span></div><div><ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><span style="color: rgb(0, 0, 0);"><strong style="box-sizing: border-box; font-weight: 700;">rosnode info node</strong>: </span>노드 정보 출력</span></li><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><span style="color: rgb(0, 0, 0);"><strong style="box-sizing: border-box; font-weight: 700;">rosnode kill node</strong>: </span>실행중인 노드를 끝내고kill 주어진 신호를 보냄</span></li><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><span style="color: rgb(0, 0, 0);"><strong style="box-sizing: border-box; font-weight: 700;">rosnode list</strong>: </span>활성화된 노드 출력</span></li><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><span style="color: rgb(0, 0, 0);"><strong style="box-sizing: border-box; font-weight: 700;">rosnode machine hostname</strong>: </span>특정 기기에서 실행중인 노드 리스트, 또는 기기 리스트 출력</span></li><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><span style="color: rgb(0, 0, 0);"><strong style="box-sizing: border-box; font-weight: 700;">rosnode ping node</strong>: </span>노드와의 연결 테스트</span></li><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><span style="color: rgb(0, 0, 0);"><strong style="box-sizing: border-box; font-weight: 700;">rosnode cleanup</strong>: </span>연결이 끊어진 노드로부터의 등록 정보를 제거</span></li></ul></div><div><span style="font-family: '맑은 고딕';"><br/></span></div><div style="font-size: 16px;"><span style="font-family: '맑은 고딕';"><b><span style="font-size: 24px;">+ Topics</span></b></span></div><div><span style="font-family: '맑은 고딕';">토픽은 데이터를 전달하기 위해 노드가 사용하는 버스와 같다. 토픽은 노드간의 직접적 연결없이 오간다. 다시 말해, 데이터의 생산과 소비가 분리. 하나의 토픽은 여러 명의 구독자를 가질 수 있다. 토픽은 발행에 사용된 저마다의 ROS message type을 가지며, 노드들은 그에 맞는 type으로만 메시지를 받을 수 있다. 노드는 같은 메시지 타입을 가졌을 때만 토픽을 구독할 수 있다.</span></div><div><span style="font-family: '맑은 고딕';">ROS에서 토픽은 TCP/IP와 UDP를 통해 전달된다. TCP/IP 기반 전달방식은 TCPROS로 통칭되며, TCP/IP 연결을 이용한다. ROS의 기본 전달방식이다.</span></div><div><span style="font-family: '맑은 고딕';">UDP 기반 전달방식은 UDPROS로 통칭되며, 응답이 빠르고low-latency 손실이 많다lossy transport. 따라서 원격조종teleoperation 등의 작업에 적합하다.(<span style="color: rgb(255, 102, 0);">왜?</span>)</span></div><div><span style="font-family: '맑은 고딕';"><br/></span></div><div><span style="font-family: '맑은 고딕';"><b>rostopic</b>: ROS에서 토픽들로 작업하기 위한 툴. 토픽 정보를 보여주고, 네트워크 상에서 바로 데이터를 발행하는 명령어 툴</span></div><div><span style="font-family: '맑은 고딕';"><br/></span></div><div><ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><strong style="box-sizing: border-box; font-weight: 700;">rostopic bw /topic</strong>: 토픽이 사용하는 대역폭bandwidth 출력</span></li><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><strong style="box-sizing: border-box; font-weight: 700;">rostopic echo /topic:</strong> 토픽의 메시지 출력</span></li><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><strong style="box-sizing: border-box; font-weight: 700;">rostopic find message_type</strong>: 해당 타입의 토픽 검색</span></li><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><strong style="box-sizing: border-box; font-weight: 700;">rostopic hz /topic</strong>: 토픽의 발행주기 출력</span></li><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><strong style="box-sizing: border-box; font-weight: 700;">rostopic info /topic</strong>: 활성화된 토픽 정보 출력. 발행되는 토픽들과 구독되는 토픽들, 서비스들.<span style="color: rgb(255, 102, 0);">This prints information about the active topic, the topics published, the ones it is subscribed to, and services.</span></span></li><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><strong style="box-sizing: border-box; font-weight: 700;">rostopic list</strong>: 활성화된 토픽 정보 출력</span></li><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><strong style="box-sizing: border-box; font-weight: 700;">rostopic pub /topic type args</strong>: 토픽에 데이터 발행. 명령어를 통해 곧바로 원하는 토픽에 데이터를 생성, 발행 </span></li><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><strong style="box-sizing: border-box; font-weight: 700;">rostopic type /topic</strong>: 토픽 타입, 즉 그것이 발행하는 메시지 타입 출력</span></li></ul><div style="box-sizing: border-box;"><div><span style="font-family: '맑은 고딕';"><br/></span></div><div><span style="font-family: '맑은 고딕';"><b><span style="font-size: 24px;">+ Services</span></b></span></div><div><span style="font-family: '맑은 고딕';">노드 간 소통하면서 응답을 받는 것은 토픽으로 할 수 없다. 서비스로 해야 한다. 서비스는 사용자에 의해 만들어지며developed, 노드용 표준 서비스는 존재하지 않는다. 메시지의 소스 코드 파일은 srv 폴더에 저장된다. </span></div><div><span style="font-family: '맑은 고딕';"><br/></span></div><div><span style="font-family: '맑은 고딕';"><b>rosservice</b> : ROS에서 서비스에 요청을 보내거나 서비스들을 출력하는 명령어 툴</span></div><div><span style="font-family: '맑은 고딕';"><br/></span></div><div><ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><strong style="box-sizing: border-box; font-weight: 700;">rosservice call /service args</strong>: 해당 인자로 서비스 호출</span></li><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><strong style="box-sizing: border-box; font-weight: 700;">rosservice find msg-type</strong>: 해당 서비스타입(msg-type)의 서비스 검색</span></li><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><strong style="box-sizing: border-box; font-weight: 700;">rosservice info /service</strong>: 서비스 정보 출력</span></li><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><strong style="box-sizing: border-box; font-weight: 700;">rosservice list</strong>: 활성화된 서비스 출력</span></li><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><strong style="box-sizing: border-box; font-weight: 700;">rosservice type /service</strong>: 서비스 타입 출력</span></li><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><strong style="box-sizing: border-box; font-weight: 700;">rosservice uri /service</strong>: 서비스의 ROSRPC URI 출력</span></li></ul></div><div><span style="font-family: '맑은 고딕';"><br/></span></div><div><span style="font-family: '맑은 고딕';"><b><span style="font-size: 24px;">+ Param</span></b></span></div><div><span style="font-family: '맑은 고딕';">파라미터 서버는 네트워크를 통해 접근가능한 다변수multivariable 공유shared 폴더이다. 노드들은 런타임에 파라미터들을 저장하고 회수하기retrieve 위해 이 서버를 이용한다. </span></div><div><span style="font-family: '맑은 고딕';"><br/></span></div><div><span style="font-family: '맑은 고딕';"><b>rosparam</b> : ROS에서 파라미터 서버로 작업하기 위한 명령어 툴</span></div><div><span style="font-family: '맑은 고딕';"><br/></span></div><div><ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><strong style="box-sizing: border-box; font-weight: 700;">rosparam list</strong>: 서버의 파라미터들을 출력</span></li><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><strong style="box-sizing: border-box; font-weight: 700;">rosparam get parameter</strong>: 파라미터 값 받아오기 </span></li><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><strong style="box-sizing: border-box; font-weight: 700;">rosparam set parameter value</strong>: 파라미터 값 설정</span></li><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><strong style="box-sizing: border-box; font-weight: 700;">rosparam delete parameter</strong>: 파라미터 삭제</span></li><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><strong style="box-sizing: border-box; font-weight: 700;">rosparam dump file</strong>:  파라미터 서버를 파일로 저장</span></li><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><strong style="box-sizing: border-box; font-weight: 700;">rosparam load file</strong>: (파라미터들이 있는) 파일을 파라미터 서버에 로드</span></li></ul><div style="box-sizing: border-box;"><div><span style="font-family: '맑은 고딕';"><br/></span></div><div><span style="font-family: '맑은 고딕';"><br/></span></div><div><span style="font-family: '맑은 고딕';"><b><span style="font-size: 24px;">+ ROS tools</span></b></span></div><div><span style="font-family: '맑은 고딕';">ROS에서 패키지를 생성, 수정, 작업하기 위한 명령어 툴</span></div><div><span style="font-family: '맑은 고딕';"><br/></span></div><div><ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><strong style="box-sizing: border-box; font-weight: 700;">rospack</strong>: 시스템 상의 패키지 검색 및 정보 출력This command is used to get information or find packages in the system.</span></li><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><strong style="box-sizing: border-box; font-weight: 700;">roscreate-pkg:</strong>  패키지 생성When you want to create a new package, use this command</span></li><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><strong style="box-sizing: border-box; font-weight: 700;">rosmake</strong>:  패키지 컴파일This command is used to compile a package</span></li><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><strong style="box-sizing: border-box; font-weight: 700;">rosdep</strong>: 시스템에 패키지 의존성 설치This command installs system dependencies of a package</span></li><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><strong style="box-sizing: border-box; font-weight: 700;">rxdeps</strong>: 패키지 의존성을 그래프로 출력This command is used if you want to see the package dependencies as a graph</span></li></ul><div style="box-sizing: border-box; margin: 0px 0px 10px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div><span style="font-family: '맑은 고딕';"><span style="color: rgb(0, 0, 0);">패키지 간에 폴더나 파일을 옮기기 위해</span> ROS는 <span style="color: rgb(0, 0, 0);">rosbash라는 유용한 패키지를 제공한다. 리눅스 명령어와 유사하다.</span></span></div></div><ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><span style="color: rgb(0, 0, 0);"><strong style="box-sizing: border-box; font-weight: 700;">roscd</strong>: 디렉토리 변경</span></span></li><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><span style="color: rgb(0, 0, 0);"><strong style="box-sizing: border-box; font-weight: 700;">rosed</strong>: 파일 편집</span></span></li><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><span style="color: rgb(0, 0, 0);"><strong style="box-sizing: border-box; font-weight: 700;">roscp</strong>: 패키지에서 파일 복사</span></span></li><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><span style="color: rgb(0, 0, 0);"><strong style="box-sizing: border-box; font-weight: 700;">rosd</strong>: 패키지의 디렉토리 목록 출력</span></span></li><li style="box-sizing: border-box;"><span style="font-family: '맑은 고딕';"><span style="color: rgb(0, 0, 0);"><strong style="box-sizing: border-box; font-weight: 700;">rosls</strong>: 패키지의 파일 목록 출력</span></span></li></ul><div style="box-sizing: border-box;"><div><span style="font-family: '맑은 고딕';"><span style="color: rgb(0, 0, 0);"><br/></span></span></div><div><span style="font-family: '맑은 고딕';"><span style="color: rgb(0, 0, 0);"><br/></span></span></div></div></div><div><span style="font-family: '맑은 고딕';"><b><span style="font-size: 24px;">네트워크 설정</span></b></span></div><div><span style="font-family: '맑은 고딕';">두 대의 다른 기기(예: 얼브레인과 랩탑)로 작업하려면 ROS_MASTER_URI와 ROS_IP를 설정해야 한다.</span></div><div><span style="font-family: '맑은 고딕';">./bashrc 파일에 다음 라인을 추가.</span></div><div><span style="font-family: '맑은 고딕';"><br/></span></div><div><span style="font-family: '맑은 고딕';">얼 브레인 :</span></div><div><span style="font-family: '맑은 고딕';"><span style="box-sizing: border-box; font-weight: 700; color: rgb(0, 0, 0); font-style: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">export</span> <span style="color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">ROS_MASTER_URI=http:</span><span style="box-sizing: border-box; color: rgb(132, 152, 155); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">//10.0.0.1:11311</span><span style="box-sizing: border-box; font-weight: 700; color: rgb(0, 0, 0); font-style: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">export</span> <span style="color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">ROS_IP=</span><span style="box-sizing: border-box; color: rgb(47, 155, 146); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">10.0</span><span style="box-sizing: border-box; color: rgb(47, 155, 146); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">.0</span><span style="box-sizing: border-box; color: rgb(47, 155, 146); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">.1</span></span></div><div><span style="font-family: '맑은 고딕';">랩탑 또는 PC :</span></div><div><span style="font-family: '맑은 고딕';"><span style="box-sizing: border-box; font-weight: 700; color: rgb(0, 0, 0); font-style: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">export</span> <span style="color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">ROS_MASTER_URI=http:</span><span style="box-sizing: border-box; color: rgb(132, 152, 155); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">//10.0.0.1:11311</span><span style="box-sizing: border-box; font-weight: 700; color: rgb(0, 0, 0); font-style: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">export</span> <span style="color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">ROS_IP=</span><span style="box-sizing: border-box; color: rgb(47, 155, 146); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">10.0</span><span style="box-sizing: border-box; color: rgb(47, 155, 146); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">.0</span><span style="box-sizing: border-box; color: rgb(47, 155, 146); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">.2</span></span></div><div><span style="font-family: '맑은 고딕';"><span style="background-color: rgb(229, 229, 229);"><span style="color: rgb(47, 155, 146);"><br/></span></span></span></div><div><span style="font-family: '맑은 고딕';"><span style="background-color: rgb(229, 229, 229);"><span style="color: rgb(47, 155, 146);"><br/></span></span></span></div><div><span style="font-family: '맑은 고딕';"><b><br/></b></span></div><div><span style="font-family: '맑은 고딕';"><b><br/></b></span></div><div><span style="font-family: '맑은 고딕';"><b><span style="font-size: 24px;"><br/></span></b></span></div><div><span style="font-family: '맑은 고딕';"><b style="font-size: 14px;"><span style="font-size: 24px;">&lt;예제 실습&gt;</span></b></span></div><div><span style="font-family: '맑은 고딕';"><br/></span></div><div><span style="font-size: 16px;"><b><span style="font-family: '맑은 고딕';">1. setup.bash 실행</span></b></span></div><div><span style="font-family: '맑은 고딕';"><span style="box-sizing: border-box; font-weight: 700; color: rgb(0, 0, 0); font-style: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">source</span><span style="color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);"> /opt/ros/indigo/setup.bash</span></span></div><div><span style="font-family: '맑은 고딕';"><br/></span></div><div><span style="font-size: 16px;"><b><span style="font-family: '맑은 고딕';">2. 캐킨 작업폴더 생성(없으면)</span></b></span></div><div><span style="font-family: '맑은 고딕';"><span style="box-sizing: border-box; font-weight: 700; color: rgb(0, 0, 0); font-style: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">cd</span> <span style="color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">~/catkin_ws/</span></span></div><div><span style="font-family: '맑은 고딕';"><span style="color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">mkdir src</span></span></div><div><span style="font-family: '맑은 고딕';"><span style="box-sizing: border-box; font-weight: 700; color: rgb(0, 0, 0); font-style: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">cd</span><span style="color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);"> src</span></span></div><div><span style="font-family: '맑은 고딕';"><br/></span></div><div><span style="font-size: 15px;"><span style="font-family: '맑은 고딕';"><b>cf. 캐킨 패키지의 요건</b></span></span></div><div><span style="font-family: '맑은 고딕';">     - 캐킨 규칙을 따르는 package.xml 파일(패키지에 관한 메타 정보 제공) 포함.</span></div><div><span style="font-family: '맑은 고딕';">     - 캐킨이 사용하는 CMakeLists.txt 파일 포함. 캐킨 메타패키지(<span style="color: rgb(255, 102, 0);">=캐킨 패키지??</span>)들은 표준형식boilerplate의 CMakeLists.txt 파일을 가짐.</span></div><div><span style="font-family: '맑은 고딕';">     - 각 폴더에는 한 패키지만 존재.</span></div><div><span style="font-size: 15px;"><span style="font-family: '맑은 고딕';">     <br/></span></span></div><div><span style="font-family: '맑은 고딕';"><br/></span></div><div><span style="font-family: '맑은 고딕';"><br/></span></div><div><span style="font-size: 24px;"><span style="font-family: '맑은 고딕';"><b>발행자와 구독자 만들기</b></span></span></div><div><span style="font-family: '맑은 고딕';"><br/></span></div><div><span style="font-size: 16px;"><b><span style="font-family: '맑은 고딕';">1. 캐킨 패키지 및 구성요소 생성</span></b></span></div><div><b><span style="font-family: '맑은 고딕';"><br/></span></b></div><div><span style="font-family: '맑은 고딕';"><span style="box-sizing: border-box; font-weight: 700; color: rgb(0, 0, 0); font-style: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">cd</span> <span style="color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">~/catkin_ws/src/ </span></span> <span style="font-family: '맑은 고딕';"><span style="color: rgb(255, 102, 0);">(출처에는 root/catkin_ws/src이나 수정함)</span></span></div><div><span style="font-family: '맑은 고딕';"><span style="color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">mkdir ros_hello_erle</span></span></div><div><span style="font-family: '맑은 고딕';"><span style="box-sizing: border-box; font-weight: 700; color: rgb(0, 0, 0); font-style: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">cd</span> <span style="color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">ros_hello_erle/</span></span></div><div><span style="font-family: '맑은 고딕';"><span style="color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">touch CMakeLists.txt package.xml</span></span></div><div><span style="font-family: '맑은 고딕';"><span style="color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">mkdir src</span></span></div><div><span style="font-family: '맑은 고딕';"><span style="box-sizing: border-box; font-weight: 700; color: rgb(0, 0, 0); font-style: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">cd</span><span style="color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);"> src/</span></span></div><div><span style="font-family: '맑은 고딕';">(C++ 사용시)</span></div><div><span style="font-family: '맑은 고딕';"><span style="color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">touch listener.cpp talker.cpp</span></span></div><div><span style="font-size: 15px;"><span style="font-family: '맑은 고딕';"><br/></span></span></div><div><span style="font-size: 16px;"><b><span style="font-family: '맑은 고딕';">2. package.xml, CMakeLists.txt, talker.cpp, listener.cpp 작성</span></b></span></div><div><b><span style="font-size: 15px;"><span style="font-family: '맑은 고딕';"><br/></span></span></b></div><div><b><span style="font-size: 15px;"><span style="font-family: '맑은 고딕';">1) package.xml</span></span></b></div><div><span style="font-family: '맑은 고딕';"><a href="http://erlerobotics.com/docs/Robot_Operating_System/ROS/Basic_concepts/Examples/Publisher_and_subscriber.html" rev="en_rl_small">링크</a> 참고해 옮겨쓰기</span></div><div><span style="font-family: '맑은 고딕';"><br/></span></div><div><b><span style="font-size: 15px;"><span style="font-family: '맑은 고딕';">2) CMakeLists.txt</span></span></b></div><div><span style="font-family: '맑은 고딕';"><a href="http://erlerobotics.com/docs/Robot_Operating_System/ROS/Basic_concepts/Examples/Publisher_and_subscriber.html" rev="en_rl_small">링크</a> 참고해 옮겨쓰기</span></div><div><span style="font-family: '맑은 고딕';"><br/></span></div><div><b><span style="font-size: 15px;"><span style="font-family: '맑은 고딕';">3) talker.cpp</span></span></b></div><div><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">#include</span> <span style="box-sizing: border-box; color: rgb(2, 46, 153); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">&quot;ros/ros.h&quot;</span></div><div><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">#include</span><span style="box-sizing: border-box; color: rgb(2, 46, 153); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">&quot;std_msgs/String.h&quot;</span></div><div><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">#include &lt;sstream&gt;</span></div><div><br/></div><div>ROS 시스템으로 메시지 보내기</div><div><span style="box-sizing: border-box; font-weight: 700; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">int</span> <span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">main(</span><span style="box-sizing: border-box; font-weight: 700; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">int</span> <span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">argc,</span> <span style="box-sizing: border-box; font-weight: 700; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">char</span> <span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">**argv)</span></div><div><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">{</span></div><div><span style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="background-color: rgb(229, 229, 229);"><br/></span></span></div><div style="margin-left:40px;">ros::init() 함수는 argc, argv를 보고, 명령행으로부터 받은 ROS 인자들과 <span style="color: rgb(250, 122, 0);">이름 리매핑</span>을 수행한다. 프로그램적prgrammatic 리매핑을 위해 다른 버전의 init 함수로 직접 리매핑할 수도 있다. 하지만 argc와 argv를 넘기는 것이 대다수 명령행 프로그램에서 가장 쉬운 방법이다. init()의 세번째 인자는 노드 이름이다.</div><div style="margin-left:40px;">ROS 시스템의 다른 부분들을 사용하기 전에 ros::init() 버전 중 하나를 호출해야 한다.</div><div><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">     ros::init(argc, argv,</span> <span style="box-sizing: border-box; color: rgb(2, 46, 153); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">&quot;talker&quot;</span><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">);</span></div><div><br/></div><div style="margin-left:40px;">노드핸들은 ROS 시스템과 소통하는 메인 접근점access point이다. 첫번째 노드 핸들이 만들어지면서 이 노드를 전적으로 초기화하고, 마지막 노드 핸들이 소멸되면서destructed 이 노드를 닫을 것이다.</div><div><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">     ros::NodeHandle n;</span></div><div><br/></div><div style="margin-left:40px;">advertise() 함수는 ROS에게 어떤 이름의 토픽에 대해 발행하겠다고 말하는 방법이다. advertise()는 발행자와 구독자 등록정보를 관리하는 ROS 마스터 노드를 호출한다. advertise()가 호출되면, 마스터 노드는 이 이름의 토픽을 구독하려는 이들을 알려주고, 이들은 이[발행자] 노드에 대해 직접 연결peer-to-peer을 맺는다. advertise()는 발행자 객체를 반환하는데,  이것은 publish() 호출을 통해 해당 토픽에 메시지를 발행하도록 한다. 반환된 발행자 객체의 모든 사본이 파괴되면, 토픽은 자동적으로 unadvertised된다.</div><div style="margin-left:40px;">advertise()의 두번째 파라미터는 메시지 발행시 사용될 메시지 큐의 크기다. 우리가 보낼 수 있는 것보다 메시지가 더 빨리 발행될 때, 몇 개까지 큐에 쌓아놓을 수 있는지(그 이상은 버려짐)를 명시한다.</div><div><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">     ros::Publisher chatter_pub = n.advertise&lt;std_msgs::String&gt;(</span><span style="box-sizing: border-box; color: rgb(2, 46, 153); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">&quot;chatter&quot;</span><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">,</span> <span style="box-sizing: border-box; color: rgb(47, 155, 146); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">1000</span><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">);</span><span style="font-family: '맑은 고딕';"><span style="background-color: rgb(229, 229, 229);"><span style="color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);"> </span></span></span></div><div><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">     ros::Rate loop_rate(</span><span style="box-sizing: border-box; color: rgb(47, 155, 146); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">10</span><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">);</span></div><div><br/></div><div style="margin-left:40px;">우리가 보내는 메시지 수를 세기 위한 변수.  각 메시지의 고유한 문자열 생성에 사용된다.</div><div><span style="box-sizing: border-box; font-weight: 700; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">     int</span> <span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">count =</span> <span style="box-sizing: border-box; color: rgb(47, 155, 146); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">0</span><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">;</span></div><div><span style="box-sizing: border-box; font-weight: 700; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">     while</span><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">(ros::ok())</span></div><div><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">     {</span></div><div><br/></div><div style="margin-left:80px;">메시지 객체. 여기에 데이터를 집어넣고, 발행한다.</div><div style="margin-left:40px;"><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">     std_msgs::String msg;</span></div><div style="margin-left:40px;"><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">     std::stringstream ss;</span></div><div style="margin-left:40px;"><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">     ss &lt;&lt;</span><span style="box-sizing: border-box; color: rgb(2, 46, 153); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">&quot;Hello Erle! &quot;</span><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">&lt;&lt; count;</span></div><div style="margin-left:40px;"><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">     msg.data = ss.str();</span></div><div style="margin-left:40px;"><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">     ROS_INFO(</span><span style="box-sizing: border-box; color: rgb(2, 46, 153); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">&quot;%s&quot;</span><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">, msg.data.c_str());</span></div><div style="margin-left:40px;"><br/></div><div style="margin-left:80px;">publish() 함수는 메시지를 보내는 방법이다. 파라미터는 메시지 객체. 이 객체의 타입은 advertise&lt;&gt;() 호출시 템플릿 파라미터로 주어진 타입과 반드시 일치해야 한다. </div><div style="margin-left:40px;"><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">     chatter_pub.publish(msg);</span></div><div style="margin-left:40px;"><span style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="background-color: rgb(229, 229, 229);"><br/></span></span></div><div style="margin-left:40px;"><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">     ros::spinOnce();</span></div><div style="margin-left:40px;"><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">     loop_rate.sleep();</span></div><div style="margin-left:40px;"><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">     ++count;</span></div><div><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">     }</span></div><div><span style="box-sizing: border-box; font-weight: 700; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">     return </span><span style="box-sizing: border-box; color: rgb(47, 155, 146); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">0</span><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">;</span></div><div><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">}</span></div><div><span style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="background-color: rgb(229, 229, 229);"><br/></span></span></div><div><b>4) listener.cpp</b></div><div><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">#include</span> <span style="box-sizing: border-box; color: rgb(2, 46, 153); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">&quot;ros/ros.h&quot;</span></div><div><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">#include</span><span style="box-sizing: border-box; color: rgb(2, 46, 153); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">&quot;std_msgs/String.h&quot;</span></div><div><br/></div><div>ROS 시스템으로 메시지 받기</div><div><span style="box-sizing: border-box; font-weight: 700; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">void </span><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">chatterCallback(</span><span style="box-sizing: border-box; font-weight: 700; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">const</span><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">std_msgs::String::ConstPtr&amp; msg)</span></div><div><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">{</span></div><div style="margin-left:40px;"><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">ROS_INFO(</span><span style="box-sizing: border-box; color: rgb(2, 46, 153); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">&quot;I heard: [%s]&quot;</span><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">, msg-&gt;data.c_str());</span></div><div><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">}</span></div><div><b><span style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="background-color: rgb(229, 229, 229);"><br/></span></span></b></div><div><span style="box-sizing: border-box; font-weight: 700; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">int</span><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">main(</span><span style="box-sizing: border-box; font-weight: 700; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">int</span><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">argc,</span><span style="box-sizing: border-box; font-weight: 700; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">char</span><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">**argv)</span></div><div><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">{</span></div><div style="margin-left:40px;"><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">ros::init(argc, argv,</span><span style="box-sizing: border-box; color: rgb(2, 46, 153); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">&quot;listener&quot;</span><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">);</span></div><div style="margin-left:40px;"><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">ros::NodeHandle n;</span></div><div style="margin-left:40px;"><br/></div><div style="margin-left:40px;">subscribe() 함수는 ROS에게 어떤 이름의 토픽에 대해 메시지를 받겠다고 말하는 방법이다. subscribe() 는 발행자와 구독자 등록정보를 관리하는 ROS 마스터 노드를 호출한다. 메시지는 콜백 함수(여기서는 chatterCallback())로 전달된다. subscribe()는 구독을 중지할 때까지 유지되는 구독자 객체를 반환한다. 구독자 객체의 모든 사본이 <span style="color: rgb(250, 122, 0);">범위를 벗어나면go out of scope</span>, 이 콜백은 자동적으로  해당토픽으로부터 unsubscribed된다.</div><div style="margin-left:40px;">subscribe()의 두번째 파라미터는 메시지 큐의 크기다. 메시지가 처리되는 속도보다 메시지가 더 빨리 도착할 때,  몇 개까지 큐에 쌓아놓을 수 있는지(그 이상이 되면 오래된 것부터 버려짐)를 명시한다.</div><div style="margin-left:40px;"><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">ros::Subscriber sub = n.subscribe(</span><span style="box-sizing: border-box; color: rgb(2, 46, 153); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">&quot;chatter&quot;</span><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">,</span><span style="box-sizing: border-box; color: rgb(47, 155, 146); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">1000</span><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">, chatterCallback);</span></div><div style="margin-left:40px;"><span style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace;"><span style="background-color: rgb(229, 229, 229);"><span style="color: rgb(132, 13, 122);"><br/></span></span></span></div><div style="margin-left:40px;">ros::spin()은 루프문을 돌며 콜백을 호출한다. 이 버전에서 모든 콜백은 이 쓰레드(메인 쓰레드) 안에서 호출된다. ros::spin()은 Ctrl-C를 누르거나, 마스터에 의해 노드가 닫힐 때 종료된다.</div><div style="margin-left:40px;"><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">ros::spin();</span></div><div style="margin-left:40px;"><span style="box-sizing: border-box; font-weight: 700; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">return </span><span style="box-sizing: border-box; color: rgb(47, 155, 146); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">0</span><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">;</span></div><div><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">}</span></div><div><br/></div><div><span style="font-size: 16px;"><b><span style="font-family: '맑은 고딕';">3. 패키지 빌드</span></b></span></div><div><b><span style="font-family: '맑은 고딕';"><br/></span></b></div><div><span style="font-family: '맑은 고딕';"><span style="box-sizing: border-box; font-weight: 700; color: rgb(0, 0, 0); font-style: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">cd</span> <span style="color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">~/catkin_ws/</span></span></div><div><span style="font-size: 15px;"><font face="맑은 고딕"><b>- 특정 패키지만을 빌드하기</b></font></span></div><div><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">catkin_make_isolated</span> <span style="box-sizing: border-box; color: rgb(132, 152, 155); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">--pkg ros_hello_erle</span></div><div><span style="box-sizing: border-box; font-weight: 700; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">source</span> <span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">devel_isolated/ros_hello_erle/setup.bash</span></div><div><b><span style="font-size: 15px;"><span style="font-family: '맑은 고딕';"><br/></span></span></b></div><div><span style="font-size: 15px;"><b><span style="font-family: '맑은 고딕';">- 존재하는 모든 패키지를 빌드하기</span></b></span></div><div><span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">catkin_make</span></div><div><span style="box-sizing: border-box; font-weight: 700; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: pre-wrap; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(229, 229, 229);">source</span> <span style="color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(229, 229, 229);">devel/setup.bash</span></div><div><b><span style="font-size: 15px;"><span style="font-family: '맑은 고딕';"><br/></span></span></b></div><div><span style="font-size: 16px;"><b><span style="font-family: '맑은 고딕';">4. 실행</span></b></span></div><div><span style="font-family: '맑은 고딕';"><br/></span></div><div><font face="맑은 고딕">ROS 패키지를 처음 실행하려면</font> <span style="color: rgb(130, 190, 205); font-family: Menlo, Monaco, Consolas, &quot;Courier New&quot;, monospace; font-size: 12.6px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(249, 242, 244);">roscore</span><font face="맑은 고딕">로 마스터노드를 호출해야 한다.(마스터노드 없이는 노드들은 서로 소통할 수 없음) </font></div><div><span style="font-family: '맑은 고딕';">그러나 얼브레인에서는 마스터노드가 있는 오토파일럿이 항상 실행중이기 때문에(원한다면 끌 수 있음), 이 단계는 불필요하다.</span></div><div><span style="font-family: '맑은 고딕';">따라서</span> <code style="box-sizing: border-box; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; padding: 2px 4px; color: rgb(130, 190, 205); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(249, 242, 244);">rosrun ros_hello_erle listener</code><span style="color: rgb(0, 0, 0); font-family: Ubuntu, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(255, 255, 255);"> ,</span> <span style="color: rgb(130, 190, 205); font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(249, 242, 244);">rosrun ros_hello_erle talker</span><span style="font-family: '맑은 고딕';">를 각각의 쉘에서 실행함으로써 listener노드와 </span><span style="font-family: '맑은 고딕';">talker노드</span><span style="font-family: '맑은 고딕';">를 구동시키기만 하면 된다.(.bashrc에서 설정하지 않았다면 항상 환경변수를 적용source해야 함을 유념*) </span></div><div><span style="color: rgb(50, 135, 18);"><span style="font-family: '맑은 고딕';">*</span></span> <b><span style="color: rgb(50, 135, 18);"><span style="font-family: '맑은 고딕';">환경변수 적용 방법 정리(에러 빈번!!!!!)</span></span></b></div><div><span style="color: rgb(50, 135, 18);"><span style="font-family: '맑은 고딕';">1) </span></span></div><div><span style="color: rgb(50, 135, 18);"><font face="맑은 고딕">talker와 listener를 구동하기 위한 각각의 터미널에서,</font></span></div><div><span style="color: rgb(50, 135, 18);"><font face="맑은 고딕">rosrun 명령 이전에</font> <span style="font-family: '맑은 고딕';">source ~/catkin_ws/devel_isolated/ros_hello_erle/setup.bash 명</span><font face="맑은 고딕">령으로 환경변수 파일 불러오기</font></span></div><div><span style="color: rgb(50, 135, 18);"><font face="맑은 고딕">즉,</font></span></div><div><span style="color: rgb(50, 135, 18);"><span style="font-family: '맑은 고딕';">listener 터미널 :</span></span></div><div style="margin-left:80px;"><span style="color: rgb(50, 135, 18);"><span style="font-family: '맑은 고딕';">source ~/catkin_ws/devel_isolated/ros_hello_erle/setup.bash </span></span></div><div style="margin-left:80px;"><span style="color: rgb(50, 135, 18);"><font face="맑은 고딕">rosrun ros_hello_erle listener</font></span></div><div style="margin-left:80px;"><span style="color: rgb(50, 135, 18);"><span style="font-family: '맑은 고딕';"><br/></span></span></div><div><span style="color: rgb(50, 135, 18);"><font face="맑은 고딕">talker 터미널 :</font></span></div><div style="margin-left:80px;"><span style="color: rgb(50, 135, 18);"><span style="font-family: '맑은 고딕';">source ~/catkin_ws/devel_isolated/ros_hello_erle/setup.bash </span></span></div><div style="margin-left:80px;"><span style="color: rgb(50, 135, 18);"><font face="맑은 고딕">rosrun ros_hello_erle talker</font></span></div><div style="margin-left:80px;"><span style="color: rgb(50, 135, 18);"><br/></span></div><div><span style="color: rgb(50, 135, 18);">2)</span></div><div><span style="color: rgb(50, 135, 18);">매번 환경변수 파일을 불러오는 대신,</span></div><div><span style="color: rgb(50, 135, 18);">터미널 띄우기 전에 실행되는 환경변수 설정 파일인 ~/.bashrc에 다음 라인</span></div><div><span style="color: rgb(50, 135, 18);"><span style="font-family: '맑은 고딕';">source ~/catkin_ws/devel_isolated/ros_hello_erle/setup.bash </span></span></div><div><span style="color: rgb(50, 135, 18);">을 추가해 저장하기</span></div><div><span style="color: rgb(50, 135, 18);">다만 저렇게 저장하고 실제 저 경로에 해당 파일이 없으면 터미널 띄울 때마다 에러 메시지 뜸.</span></div><div><br/></div><div><span style="color: rgb(45, 79, 201);"># 위 예제에서는 catkin_make_isolated로 빌드했기 때문에 ~/catkin_ws/devel_isolated/ros_hello_erle 폴더 안에 setup.bash 파일이 있음.</span></div><div><span style="color: rgb(45, 79, 201);">catkin_make로 빌드했다면 devel 폴더 안에 setup.bash 파일이 있을 것. 실행시 빌드한 해당 경로(setup.bash 파일이 있는 곳)의 환경변수 파일을 적용용해줘야 함.</span></div><div><span style="color: rgb(45, 79, 201);"><br/></span></div><div><br/></div><div><br/></div><div><b><span style="font-size: 15px;"><span style="font-family: '맑은 고딕';"><br/></span></span></b></div><div><br/></div><div><br/></div><div><b><span style="font-size: 15px;"><span style="font-family: '맑은 고딕';"><br/></span></span></b></div><div><b><span style="font-size: 15px;"><span style="font-family: '맑은 고딕';"><br/></span></span></b></div><div><b><span style="font-size: 15px;"><span style="font-family: '맑은 고딕';"><br/></span></span></b></div><div><span style="font-family: '맑은 고딕';"><br/></span></div><div><br/></div></div></div></div></div></span>
</div></body></html> 