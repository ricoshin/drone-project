<html>
<head>
  <title>[ROS] Concepts</title>
  <basefont face="나눔고딕" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/303244 (ko-KR, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 나눔고딕;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1563"/>
<h1>[ROS] Concepts</h1>

<div><span><div><a href="http://wiki.ros.org/ROS/Concepts" rev="en_rl_small" shape="rect" target="_blank">http://wiki.ros.org/ROS/Concepts</a></div><div><br clear="none"/></div><div style="box-sizing: border-box; margin: 0px 0px 10px; color: #333333; font-family: &quot; helvetica neue&quot;, helvetica, arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;"><div>ROS는 3가지의 레벨의 개념이 있다.</div><div>1. 파일시스템 레벨</div><div>2. Computation Graph 레벨</div><div>3. 커뮤니티 레벨</div></div><div style="box-sizing: border-box; margin: 0px 0px 10px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;"><div><span style="color: #333333;"><span style="font-family: &quot;">ROS는 추가적으로 두 가지 형태의 이름도 정의한다.</span></span></div><div><span style="color: #333333; font-family: &quot; helvetica neue&quot;, helvetica, arial, sans-serif;font-size: 14px;"><span style="font-family: &quot;">4.그래프 리소스이름 Graph Resource Names</span></span></div><div><span style="color: #333333;"><span style="font-family: &quot;">5. 패키지 리소스이름 Package Resource Names</span></span></div><div><span style="color: #333333;"><span style="font-family: &quot;"><br clear="none"/></span></span></div><div><span style="color: #333333;"><span style="font-family: &quot;">번호 순으로 아래서 설명한다.</span></span> <a href="http://wiki.ros.org/Names#Graph" style="box-sizing: border-box; color: rgb(43, 127, 207); text-decoration: none; border: 0px; font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: rgb(255, 255, 255);">base name</a><span style="color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 1; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: rgb(255, 255, 255);">,</span></div><div><span style="font-family: &quot;"><span style="color: #333333;"><br clear="none"/></span></span></div><div><hr/></div><div><span style="font-family: &quot;"><span style="color: #333333;"><br clear="none"/></span></span></div><div><span style="font-size: 36px;"><strong><span style="color: #333333;"><span style="font-family: &quot;">1. 파일 시스템 레벨</span></span></strong></span></div><div><span style="font-family: &quot;"><span style="color: #333333;"><br clear="none"/></span></span></div><div><span style="color: #333333;"><span style="font-family: &quot;">하드디스크에 저장되는 ROS 리소스(자원)들을 주로 커버하는 개념</span></span></div><div><span style="font-family: &quot;"><span style="color: #333333;"><br clear="none"/></span></span></div><div><span style="color: #333333;"><span style="font-family: &quot;">- <strong>패키지</strong> : ROS에서 소프트웨어를 조직화하는 메인 단위. ROS 런타임 프로세스(노드), ROS 의존 라이브러리, 데이터셋, configuration 파일 등이 유용하게 결합됨.</span></span></div><div><span style="color: #333333;"><span style="font-family: &quot;">                패키지는 ROS에서 아이템을 빌드하고 릴리즈(다른 사람들에게 보급)하는 데 있어서 가장 작은 단위임. </span></span></div><div><span style="color: #333333;"><span style="font-family: &quot;">- <strong>메타패키지</strong> : 관련된 여러 패키지들의 그룹을 대표하는 용도로만 사용되는 특별한 패키지. 가장 일반적으로 메타패키지는</span></span></div><div><span style="color: #333333;"><span style="font-family: &quot;">                      변환된</span></span> <a href="http://wiki.ros.org/rosbuild" rev="en_rl_minimal" shape="rect" style="box-sizing: border-box; color: #2b7fcf; text-decoration: none; border: 0px; font-family: &quot; helvetica neue&quot;, helvetica, arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #ffffff;" target="_blank">rosbuild</a><span style="color: #333333; font-family: &quot; helvetica neue&quot;, helvetica, arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: #ffffff;"> </span><a href="http://wiki.ros.org/rosbuild/ROS/Concepts#Stacks" rev="en_rl_minimal" shape="rect" style="box-sizing: border-box; color: #2b7fcf; text-decoration: none; border: 0px; font-family: &quot; helvetica neue&quot;, helvetica, arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #ffffff;" target="_blank">Stacks</a><span style="color: #333333;"><span style="font-family: &quot;">을 대신하여 하위 호환 place holder(무언가를 대체하여 임시로 사용)로 사용된다. (뭔소리??)</span></span></div><div><span style="color: #333333;"><span style="font-family: &quot;">- <strong>패키지</strong> <strong>매니페스트</strong> : Manifest(package.xml)는 패키지에 대한 메타데이터(이름, 버전, 설명, 라이센스 정보, 의존성, export 패키지 등)를 제공한다. </span></span></div><div><span style="color: #333333;"><span style="font-family: &quot;">                                 <span style="color: #ff6600;">*메타데이터 : &quot;meta&quot;는 beside/after의 뜻으로써, 데이터에 대한 데이터, 즉, 다른 데이터를 설명하는 데이터.</span></span></span></div><div><span style="color: #ff6600;"><span style="font-family: &quot;">                                                      예를 들어, 책으로 치면 제목, 주제, 발행자, 작가 등.. 컴퓨터파일로 치면 경로, 생성일, 구조, 특성 등.</span></span></div><div><span style="color: #333333;"><span style="font-family: &quot;">- <strong>레포지토리</strong> : 일반적인 VCS(버전컨트롤시스템)을 공유하는 패키지 컬랙션. VCS를 공유하는 패키지들은 같은 버전을 공유하고</span></span></div><div><span style="color: #333333;"><span style="font-family: &quot;">                     캣킨 릴리즈 자동화 도구인 </span></span><a href="http://wiki.ros.org/bloom" rev="en_rl_minimal" shape="rect" style="box-sizing: border-box; color: #2b7fcf; text-decoration: none; border: 0px; font-family: &quot; helvetica neue&quot;, helvetica, arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #ffffff;" target="_blank">bloom</a>을 사용해서 함께 릴리즈될 수 있다. 종종 이 레포지토리들은 변환된 <span style="color: #333333; font-family: &quot; helvetica neue&quot;, helvetica, arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: #ffffff;"> </span><a href="http://wiki.ros.org/rosbuild" rev="en_rl_minimal" shape="rect" style="box-sizing: border-box; color: #2b7fcf; text-decoration: none; border: 0px; font-family: &quot; helvetica neue&quot;, helvetica, arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #ffffff;" target="_blank">rosbuild</a><span style="color: #333333; font-family: &quot; helvetica neue&quot;, helvetica, arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: #ffffff;"> </span><a href="http://wiki.ros.org/rosbuild/ROS/Concepts#Stacks" rev="en_rl_minimal" shape="rect" style="box-sizing: border-box; color: #2b7fcf; text-decoration: none; border: 0px; font-family: &quot; helvetica neue&quot;, helvetica, arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #ffffff;" target="_blank">Stacks</a>에 매핑될 것이다.</div><div>                   레포지토리는 오직 하나의 패키지만 포함할 수 있다.</div><div>- <strong>메세지</strong>(msg) <strong>타입</strong> : my_package/msg/MyMessageType.msg에 저장된 내용은 description은 ROS에서 보낼 메세지의 데이터 구조를 정의.</div><div>- <strong>서비스</strong>(srv) <strong>타입</strong> : my_package/srv/MyServiceType.srv에 저장된 내용은 ROS 서비스에서 request&amp;response 데이터 구조를 정의.</div><div><br clear="none"/></div><div style="font-family: gotham, helvetica, arial, sans-serif; font-size: 14px;"><span style="color: #ff6600;">*stack : rosbuild 시스템을 사용하던 버전의 레거시. 파일시스템 레벨에 포함되어 있었음. 통합된 기능을 제공하는 패키지의 집합을 말함.</span></div><div style="font-family: gotham, helvetica, arial, sans-serif; font-size: 14px;"><span style="color: #ff6600;">             릴리즈할때 패키지 형식 뿐 아니라 스택 형식으로도 가능. 버전 넘버를 가지고 있음. 패키지와 같이 Stack manifest(stack.xml)이 있음.</span></div><div><br clear="none"/></div><div><span style="font-size: 36px;"><strong>2. Computation Graph 레벨</strong></span></div><div><br clear="none"/></div><div>Computation Graph는 데이터를 함께 처리하는 ROS 프로세스들의 peer-to-peer 네트워크이다.</div><div><span style="color: #ff6600;">*peer-to-peer : 네트워크상에 대등한 기능을 갖는 복수의 컴퓨터를 연계시키는 (client-server)</span></div><div>ROS의 기본적인 Computation Graph 개념은 노드, 마스터, 파라미터 서버, 메세지, 서비스, 토픽, 백(bag) 등이며</div><div>이들은 모두 각기 다른 방식으로 <span style="font-family: gotham, helvetica, arial, sans-serif; font-size: 14px;">Graph에 </span> 데이터를 제공한다.</div><div><br clear="none"/></div><div>이 개념들은 <a href="http://wiki.ros.org/ros_comm" rev="en_rl_minimal" shape="rect" style="box-sizing: border-box; color: #2b7fcf; text-decoration: none; border: 0px; font-family: &quot; helvetica neue&quot;, helvetica, arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #ffffff;" target="_blank">ros_comm</a> 레포지토리에 구현되어 있다.</div><div><br clear="none"/></div><div><strong>Nodes</strong> : 노드는 계산(computation)을 수행하는 프로세스이다. ROS는 미세한 단위로 모듈화될 수 있게 디자인되어 있다.</div><div>             로봇 시스템은 보통 많은 노드로 구성되어 있다. 예를 들어, 하나의 노드는 레이저 레인지 파인더를 제어하고, 하나의 노드는 바퀴 모터를 제어,</div><div>             또하나의 노드는 localization을 수행하고, 어떤 노드는 경로 계획을, 또 다른 노드는 시스템의 그래픽컬 뷰를 제공할 수 있다.</div><div>             ROS 노드는 roscpp나 rospy와 같은 ROS 클라이언트 라이브러리를 사용하여 코딩할 수 있다.</div><div><strong>Master</strong> : ROS 마스터는 이름을 등록하고 다른 Computation Graph에서 이를 찾을 수 있도록 돕는다.</div><div>             마스터 없이는 노드가 서로를 찾거나 메세지를 교환하거나 서비스를 호출할 수 없다.</div><div><strong>Parameter Server</strong> : 파라미터 서버에 데이터를 저장할 수 있다(키에 의해 저장). 마스터의 일부분으로써 중앙부에 저장된다. <strong style="box-sizing: border-box; font-weight: bold; color: #333333; font-family: &quot; helvetica neue&quot;, helvetica, arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;"><a href="http://wiki.ros.org/Parameter%20Server" rev="en_rl_minimal" shape="rect" style="box-sizing: border-box; color: #2b7fcf; text-decoration: none; border: 0px; background: transparent;" target="_blank">Parameter Server</a></strong></div><div><strong>Message</strong> : 노드는 메세지를 보냄으로써 서로 통신한다. 메세지는 간단하게 말해서 타입을 가지는 필드로 구성된 데이터 구조체이다.</div><div>                 표준 기본타입(integer, floating point, boolean 등)이 지원되며, 이들을 배열로 구성할 수도 있다.</div><div>                 메세지는 원하는 대로 구성된 구조체와 배열을 포함할 수 있다. (C 구조체와 유사)</div><div><strong>Topics</strong> : 메세지는 발행(publish)과 구독(subscribe)라는 개념을 사용하는 통신 시스템에 의해 원하는 위치로 보내진다.</div><div>              노드는 특정한 메세지를 &quot;발행&quot;함으로써 메세지를 보낸다. 토픽은 메세지의 내용을 식별하기 위한 이름이다.</div><div>              특정한 종류의 데이터에 관심이 있는 노드는 적절한 토픽을 &quot;구독&quot;할 것이다. 하나의 토픽에 대하여 여러개의 구독자와 발행자가 존재할 수 있고, </div><div>              하나의 노드는 여러개의 토픽을 발행하거나 구독할 수 있다. 일반적으로 발행자와 구독자는 서로의 존재를 알지 못한다.</div><div>              이러한 특징은 정보의 생산과 소비를 분리시키기 위한 것이다. 논리적으로 토픽은 완전히 타입이 분류된 메세지 버스로 생각할 수 있다.</div><div>              모든 버스는 이름을 가지며, 타입만 일치한다면 누구든지 메세지를 보내거나 받기 위해 버스에 연결할 수 있다. </div><div><strong>Services</strong> : 발행/구독 모델은 매우 유연한 통신 패러다임이다. 그러나 다대다(多待多), 단방향 전송은 분산 시스템에서 종종 요구되는 요청/응답 상호작용에는</div><div>                적합하지 않다. 요청/응답은 서비스를 통해 이루어지며, 한 쌍의 메세지 구조체로서 정의된다. (request와 reply가 하나의 쌍)</div><div>                ROS 클라이언트 라이브러리는 보통 이러한 상호작용을 마치 원격 프로시저 콜인 것 처럼 표현한다.</div><div><strong>Bags</strong> : 백은 ROS 메세지 데이터를 저장하고 다시 재현하기 위한 포맷이다. 센서데이터와 같이 수집하기는 어렵지만 알고리즘의 개발과 테스트를 위해서는</div><div>            필수적인 데이터 들을 저장하기 위해 중요한 매커니즘이다.</div><div><br clear="none"/></div><div>ROS 마스터는 ROS Computation Graph에서 네임서비스처럼 행동한다. 마스터는 ROS 노드의 토픽과 서비스 등록 정보를 저장한다.</div><div>모든 노드는 자신의 등록 정보를 보고하기 위해 마스터와 통신한다. 노드들이 마스터와 통신할때, 다른 먼저 등록된 노드들에 대한 정보를 받아서 원하는 노드와</div><div>적절하게 연결을 생성할 수 있다. 마스터 역시 새로운 노드가 실행되어 등록 정보가 업데이트될때마다 먼저 등록된 노드들을 콜백함으로써 새로운 노드와</div><div>(필요하다면) 동적으로 연결을 수립할 수 있도록 해준다.</div><div><br clear="none"/></div><div>노드는 다른 노드들에 직접적으로 연결된다. 마스터는 DNS 서버처럼 연결을 수립하기 위해 필요한 정보만 확인할 수 있도록 도와줄 뿐이다.</div><div>토픽을 구독하는 노드는 그 토픽을 발행하는 노드에게 연결을 요청하고, 프로토컬에 따른 연결이 수립될 것이다.</div><div>ROS에서 가장 흔히 사용되는 프로토컬은<span style="color: #333333; font-family: &quot; helvetica neue&quot;, helvetica, arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: #ffffff;"> </span><a href="http://wiki.ros.org/ROS/TCPROS" rev="en_rl_minimal" shape="rect" style="box-sizing: border-box; color: #2b7fcf; text-decoration: none; border: 0px; font-family: &quot; helvetica neue&quot;, helvetica, arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #ffffff;" target="_blank">TCPROS</a>라고 불리며, 표준 TCP/IP 소켓을 사용한다.</div><div><br clear="none"/></div><div>이러한 아키텍처는 더 크고 복잡한 시스템을 빌드하기 위한 수단으로써 &quot;이름&quot;을 활용하며, <span style="font-family: gotham, helvetica, arial, sans-serif; font-size: 14px;">분리된 작업단위끼리의 연결강도를 낮출 수 있게 해준다.</span></div><div>이름은 ROS에서 매우 중요한 역할을 한다 : 노드, 토픽, 서비스, 파라미터 모두 이름을 갖는다. 모든 ROS 클라이언트 라이브러리는 이름을</div><div>커맨드라인 명령어로써 리매핑하는 기능(<a href="http://wiki.ros.org/Remapping%20Arguments" rev="en_rl_minimal" shape="rect" style="box-sizing: border-box; color: #2b7fcf; text-decoration: none; border: 0px; font-family: &quot; helvetica neue&quot;, helvetica, arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #ffffff;" target="_blank">command-line remapping of names</a>)을 지원하며, 이것은 컴파일된 프로그램이 또 다른</div><div>Computation Graph topology 안에서 동작하기 위해서 런타임에 재설정될 수 있음을 의미한다.</div><div><span style="color: #ff6600;">*topology : 네트워크의 노드들이 서로 연결되어 배열된 형태. 기하학적 구조. 네트워크의 물리적이고 논리적인 구조.</span></div><div><br clear="none"/></div><div>예를 들어, Hokuyo社의 레이저 레인지 파인더를 제어하기 위해는 hokuyo_node 드라이버를 실행하는데, 이는 레이저 레인지 파인더에게</div><div>scan이라는 이름의 토픽에 sensor_msgs/LaserScan타입의 메세지를 발행하라고 이야기하는 것과 같다.</div><div>이 데이터를 처리하기 위해서 우리는 <a href="http://wiki.ros.org/laser_filters" rev="en_rl_minimal" shape="rect" style="box-sizing: border-box; color: #2b7fcf; text-decoration: none; border: 0px; font-family: &quot; helvetica neue&quot;, helvetica, arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #ffffff;" target="_blank">laser_filters</a>를 사용하는 하나의 노드를 만들고 scan이라는 토픽으로 발행된 메세지를 구독하도록 할 수 있다.</div><div>구독을 하고 나면 레이저 필터는 자동으로 레이저 레인지 파인더로부터 메세지를 받기 시작할 것이다.</div><div><br clear="none"/></div><div>이 두 개의 노드가 어떻게 분리되어 있는지를 주목하라. hokuyo_node가 하는 일은 scan 토픽에 대한 메세지를 발행하는 것이 전부이다.</div><div>누가 구독하는지는 전혀 모르고 있다. 필터가 하는 일은 scan 토픽의 메세지를 구독하는 것이 전부이다. 누가 발행하는 메세지인지는 알지 못한다.</div><div>이 두 노드는 어떤 순서로 시작되고, 끝나고, 재시작하든 관계없이 완전히 독립적이다.</div><div><br clear="none"/></div><div>추후에 로봇에 다른 레이저를 추가하려고 한다면, 시스템을 재설정해야 한다. 우리는 해줘야하는 일은 사용되는 이름을 리맵(remap)하는 것이 전부이다.</div><div>처음에 hokuyo_node를 시작할때, 우리는 scan이라는 이름에서 base_scan이라는 이름으로 리맵을 하도록 설정할 수 있다.</div><div>이제 두 노드들은 base_scan이라는 토픽을 사용하여 통신하고 scan토픽에 관한 메세지는 무시할 것이다.</div><div>그리고 나서 우리는 새로운 레이저 레인지 파인더를 위한 또 다른 hokuyo_node를 이름의 충돌(중복) 없이 실행할 수 있다.</div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 36px;"><strong>3. 커뮤니티 레벨</strong></span></div><div><br clear="none"/></div><div>ROS 커뮤니티 개념은 소프트웨어와 지식을 교환하기 위한 별개의 커뮤니티들을 가능케하는 ROS 리소스들이다.</div><div>리소스들은 다음을 포함한다:</div><div><strong>Distributions</strong>(배포판) : 버전으로 관리되는<span style="color: #333333; font-family: &quot; helvetica neue&quot;, helvetica, arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: #ffffff;"> 인스톨 가능한 </span><a href="http://wiki.ros.org/Stacks" rev="en_rl_minimal" shape="rect" style="box-sizing: border-box; color: #2b7fcf; text-decoration: none; border: 0px; font-family: &quot; helvetica neue&quot;, helvetica, arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #ffffff;" target="_blank">stack</a>들의 컬렉션. 리눅스 배포판과 비슷한 역할을 함 :</div><div>                                   소프트웨어 컬랙션을 설치하기 쉽게 해주고, 소프트웨어 집합에 걸쳐서 일관된 버전을 유지함.</div><div><strong>Repositories</strong>(저장소) : <span style="font-family: gotham, helvetica, arial, sans-serif; font-size: 14px;">ROS는 </span>코드 저장소의 통합 네트워크에 의존하며, 여기에서 <span style="font-family: gotham, helvetica, arial, sans-serif; font-size: 14px;">여러 단체에서 그들의 로봇 소프트웨어 컴포넌트를 개발하고 배포 가능.</span></div><div><strong>The</strong> <strong>ROS</strong> <strong>Wiki</strong> : ROS에 대한 정보를 문서화하기 위한 주 포럼. 누구나 로그인하여 그들 자신의 문서를 올려 기여할 수 있으며,</div><div>                         교정과 추가 기능을 제공하고, 튜토리얼을 제작 등을 지원</div><div><strong>Bug</strong> <strong>Ticket</strong> <strong>System</strong> : 파일 티켓에 대한 정보를 찾으려면 다음을 볼 것 : <a href="http://wiki.ros.org/Tickets" rev="en_rl_minimal" shape="rect" style="box-sizing: border-box; color: #2b7fcf; text-decoration: none; border: 0px; font-family: &quot; helvetica neue&quot;, helvetica, arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #ffffff;" target="_blank">Tickets</a></div><div><strong>Mailing</strong> <strong>Lists</strong> :<span style="color: #333333; font-family: &quot; helvetica neue&quot;, helvetica, arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: #ffffff;"> </span><a href="http://wiki.ros.org/Mailing%20Lists" shape="rect" style="box-sizing: border-box; color: #2b7fcf; text-decoration: none; border: 0px; font-family: &quot; helvetica neue&quot;, helvetica, arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #ffffff;" target="_blank">ros-users mailing list</a>는 ROS의 새로운 업데이트에 대한 주요 대화 채널이며, ROS 소프트웨어에 대하여 질문을 하는 포럼이다.</div><div><strong>ROS</strong> <strong>Answers</strong> : 질문과 답변 사이트 <strong style="box-sizing: border-box; font-weight: bold; color: #333333; font-family: &quot; helvetica neue&quot;, helvetica, arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;"><a href="http://answers.ros.org/" rev="en_rl_minimal" shape="rect" style="box-sizing: border-box; color: #2b7fcf; text-decoration: none; border: 0px; background: transparent;" target="_blank">ROS Answers</a></strong></div><div><strong>Blog</strong> : <a href="http://www.ros.org/news" rev="en_rl_minimal" shape="rect" style="box-sizing: border-box; color: #2b7fcf; text-decoration: none; border: 0px; font-family: &quot; helvetica neue&quot;, helvetica, arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #ffffff;" target="_blank">ros.org Blog</a>. 정기적 업데이트와 사진, 비디오 포함</div><div><br clear="none"/></div><div><br clear="none"/></div><div><hr/></div><div><span style="font-family: gotham, helvetica, arial, sans-serif; font-size: 14px;">이름 관련 코드 API : </span><a href="http://docs.ros.org/indigo/api/roscpp/html/namespaceros_1_1names.html" rev="en_rl_minimal" shape="rect" style="font-family: gotham, helvetica, arial, sans-serif; font-size: 14px;" target="_blank">http://docs.ros.org/indigo/api/roscpp/html/namespaceros_1_1names.html</a></div><div><hr/></div><div><br clear="none"/></div><div><span style="font-size: 36px;"><strong>4. Graph Resource Names</strong></span></div><div><br clear="none"/></div><div>그래프 리소스 네임은 이름에 대한 계층적 구조이며, ROS Computation Graph의 모든 리소스(<span style="color: rgb(153, 51, 0);">노드, 파라미터, 토픽, 서비스</span>)를 위해 사용된다.</div><div>이 이름들은 ROS에서 매우 강력한 특징이며, ROS 시스템을 보다 크고 복잡하게 구성할 수 있는데 매우 중요한 역할을 한다.</div><div>때문에 어떻게 이 이름들이 동작하고 어떻게 이들을 다루는지를 이해하는 것은 매우 중요하다.</div><div><br clear="none"/></div><div>이름에 대해 자세히 설명하기 전에 전에 다음에 몇 가지 예시들을 보자.</div><ul><li> / (글로벌 네임스페이스)</li><li><span style="font-family: gotham, helvetica, arial, sans-serif; font-size: 14px;">/foo</span></li><li><span style="font-family: gotham, helvetica, arial, sans-serif; font-size: 14px;">/standard/robot/name</span></li><li><span style="font-family: gotham, helvetica, arial, sans-serif; font-size: 14px;">/wg/node1</span></li></ul><div><br clear="none"/></div><div>그래프 리소스 네임은 ROS에서 캡슐화를 하는데 있어서 중요한 매커니즘이다.</div><div>각각의 리소스는 네임스페이스 안에 정의되며, 네임스페이스는 다른 많은 리소스들과 공유할 수 있다.</div><div>일반적으로 리소스들은 그들의 이름공간 안에 또다른 리소스를 생성할 수 있고, 그들의 이름공간 혹은 그 상위에서 생성한 리소스에 접근할 수 있다.</div><div>다른 네임스페이스에 존재하는 두 개의 리소스 사이에 연결을 만드는 것은 가능하지만, 이는 일반적으로는 두 네임스페이스의 상위에서 통합 코드에 의해 수행된다.</div><div>이러한 캡슐화는 시스템의 다른 부분들에서 원하지 않는 이름의 리소스에 접근하거나 글로벌 이름에 의해 원하는 하위 이름에 접근하지 못하는 상황을 방지한다.</div><div><br clear="none"/></div><div>이름은 상대적으로 resolve(매핑)된다. 때문에 리소스는 자신이 어떤 네임스페이스에 속하는지 알 필요가 없다.</div><div>이는 함께 동작하는 노드는 모두 탑 레벨 이름공간에 있는 것처럼 코딩할 수 있게 해주므로 프로그램을 단순화시켜준다.</div><div>이 노드들이 더 큰 시스템으로 통합될때, 그들을 그들의 코드 집합을 정의하는 하나의 이름공간 안에 집어 넣어줄 수 있다.</div><div>예를 들어, 만약에 Stanford 데모와 Willow Garage 데모를 통합하여 하나의 데모를 stanford와 wg 서브 그래프를 만든다고 가정해보자.</div><div>두 개의 데모가 모두 'camera'라는 이름을 가지고 있더라도 서로 충돌하지 않는다.</div><div>전체 그래프 레벨에서 바로 접근 가능해야 하는 graph visualization와 같은 툴과 demo_name과 같은 파라미터들은 탑레벨 노드에 의해 생성될 수 있다.</div><div><br clear="none"/></div><div><span style="font-size: 18px;"><strong>4-1. 유효한 이름</strong></span></div><div><br clear="none"/></div><div>유효한(사용가능한) 이름은 다음 특징을 갖는다:</div><ol><li>첫 번째 글자는 알파벳이거나 tilde<span style="color: #000000; font-family: &quot; lucida sans unicode&quot;, sans-serif; font-size: 12px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none;">[</span><sup style="color: #666666; font-size: 10px; font-family: &quot; lucida sans unicode&quot;, &quot;lucida grande&quot;, sans-serif; font-weight: bold; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;">|</sup><span style="font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; float: none; display: inline !important;"><span style="color: #000000;"><span style="font-size: 12px;"><span style="font-family: &quot;">tɪldə]</span></span></span> </span><span style="font-family: gotham, helvetica, arial, sans-serif; font-size: 14px;">(~), forward slash(/)이다.</span></li><li>이후의 글자는 알파벳/숫자, underscore(_), forward slash(/)일 수 있다.</li></ol><div>*예외 : 아래에 설명되어 있는 base name은 /나 ~를 포함할 수 없다.</div><div><br clear="none"/></div><div><span style="font-size: 18px;"><strong>4.2. Resolving</strong></span></div><div><br clear="none"/></div><div>그래프 리소스 네임에는 네가지 종류가 있다 : base, relative, global, and private. 문법은 다음과 같다.</div><ul><li>base</li><li>relative/name</li><li>/global/name</li><li>~private/name</li></ul><div><br clear="none"/></div><div>기본값으로 resolution은 그 노드의 네임스페이스에 상대적(relative 타입으로)으로 수행된다.</div><div>예를 들어, 노드 /wg/node1은 네임스페이스 /wg를 갖는다.</div><div>그러므로 node2라는 이름은 /wg/node2로 resolve될 것이다.</div><div><br clear="none"/></div><div>네임스페이스 구분자(qualifier: /) 같은 것들이 전혀 없는 이름은 base 네임이다.</div><div>base네임은 사실상 relative네임의 하위 클래스이며, 같은 resolution 규칙을 갖는다.</div><div>노드 이름을 초기화할 때 가장 자주 사용된다.</div><div><br clear="none"/></div><div>&quot;/&quot;로 시작되는 이름은 global이다. 완전히 resolved된 것으로 간주된다. (따로 revolve해줄 필요가 없다)</div><div>global네임은 코드 이식성이 제한되므로 가능한한 피해야 한다.</div><div><br clear="none"/></div><div>&quot;~&quot;로 시작되는 이름은 private이다. 노드의 이름을 네임스페이스로 사용한다. </div><div>예를 들어, 이름공간 /wg/안에 있는 <span style="font-family: gotham, helvetica, arial, sans-serif; font-size: 14px;">node1은 private 네임 스페이스 /wg/node1을 갖는다.</span></div><div>private 네임은 파라미터 서버를 통해 파라미터를 특정 노드로 보낼 때 매우 유용하다.</div><div><br clear="none"/></div></div><div><img src="[ROS] Concepts_files/스크린샷, 2016-08-03 153323.png" type="image/png" style="height: auto;"/></div><div><br clear="none"/></div><div><span style="font-size: 18px;"><strong>4.3 Remapping</strong></span></div><div><br clear="none"/></div><div>노드가 커맨드라인에서 launch될 때, 언제든지 노드 리맵이 수행될 수 있다.</div><div>추가 정보 : <a href="http://wiki.ros.org/Remapping%20Arguments" rev="en_rl_minimal" shape="rect" style="box-sizing: border-box; color: #2b7fcf; text-decoration: none; border: 0px; font-family: &quot; helvetica neue&quot;, helvetica, arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background: #ffffff;" target="_blank">Remapping Arguments</a><span style="color: #333333; font-family: &quot; helvetica neue&quot;, helvetica, arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; display: inline !important; float: none; background-color: #ffffff;">.</span></div><div><br clear="none"/></div><div><strong>*디폴트 네임스페이스 세팅하기 <a href="https://cse.sc.edu/~jokane/agitr/agitr-letter-names.pdf" shape="rect" target="_blank">https://cse.sc.edu/~jokane/agitr/agitr-letter-names.pdf</a> 79 page.</strong></div><div><strong><br clear="none"/></strong></div><div>디폴트 네임스페이스는 전체 시스템에 대해 세팅되기 보다는 각각의 노드에 대하여 개별적으로 추적된다.</div><div>만약 디폴트 네임스페이스를 설정하기 위해 특별한 절차를 수행하지 않는다면 ROS에서 기본적으로 글로벌 네임스페이스(/)를 사용한다.</div><div>하나의 노드나 노드 그룹에 대해 다른 디폴트 네임스페이스를 정해주기 위해 가장 흔히 사용하는 방법은 launch파일에서 'ns' 특성을 사용하는 것이다.</div><div>그러나 다음 두 가지 방법을 사용하여 수동으로 바꾸어줄 수도 있다.</div><ol><li>대부분의 ROS 프로그램(ros::init을 호출하는 모든 C++프로그램 포함)은 커맨드 라인에서 실행할 때 '__ns' 파라미터를 받을 수 있다.</li></ol><div>          다음과 같은 명령으로 그 프로그램에 한정하여 디폴트 네임스페이스를 명시해줄 수 있다.</div><div>          __ns:=<em>default-namespace</em></div><ol start="2"><li>환경변수를 이용하여 쉘 안에서 실행하는 모든 ROS 프로그램에 대하여 디폴트 네임스페이스를 세팅할 수 있다.</li></ol><div>          export ROS_NAMESPACE=<em>default-namespace</em></div><div>          <span style="color: #fa7a00;">*단, 이 환경변수는 __ns 파라미터에 디폴트 네임스페이스가 명시되어 있지 않은 경우에만 사용된다.</span><br clear="none"/></div><div><br clear="none"/></div><div><strong>*Anonymous name</strong> : init()의 네 번째 인수에 다음과 같은 옵션을 추가하면 base_name 뒤에 추가적인 텍스트를 붙여서 자동으로 유일한 노드 이름을 생성해줌.</div><div><br clear="none"/></div><div>     ros::init(argc, argv, &quot;anon&quot;, ros::init_options::AnonymousName);</div><div>     </div><div>     /anon_1376942789079547655</div><div>     /anon_1376942789079550387</div><div>     /anon_1376942789080356882</div><div><br clear="none"/></div><div><br clear="none"/></div><div><br clear="none"/></div><div><span style="font-size: 36px;"><strong>5.Package Resource Names</strong></span></div><div><br clear="none"/></div><div>파일시스템 레벨 개념으로 ROS에서 사용되는 패키지 리소스 네임은 디스크의<strong> </strong>(실행)<strong>파일</strong>과 <strong>데이터 타입</strong>을 참조하기 위한 프로세스이다.</div><div>패키지 리소스 네임은 매우 간단하다. 단순하게 리소스가 속한 패키지의 이름에 리소스의 이름을 더해주면 된다.</div><div>예를 들어, &quot;std_msgs/String&quot;은 &quot;std_msgs&quot;패키지의 &quot;String&quot; 메세지 타입을 가리킨다.</div><div><br clear="none"/></div><div>패키지 리소스 네임을 사용하는, 참조될 수 있는 몇 가지 ROS 관련 파일들은 다음을 포함한다 :</div><div><ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: #333333; font-family: &quot; helvetica neue&quot;, helvetica, arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;"><li style="box-sizing: border-box;"><p style="box-sizing: border-box; margin: 0.25em 0px;"><a href="http://wiki.ros.org/msg" rev="en_rl_minimal" shape="rect" style="box-sizing: border-box; color: #2b7fcf; text-decoration: none; border: 0px; background: transparent;" target="_blank">Message (msg) types</a></p></li><li style="box-sizing: border-box;"><p style="box-sizing: border-box; margin: 0.25em 0px;"><a href="http://wiki.ros.org/srv" rev="en_rl_minimal" shape="rect" style="box-sizing: border-box; color: #2b7fcf; text-decoration: none; border: 0px; background: transparent;" target="_blank">Service (srv) types</a></p></li><li style="box-sizing: border-box;"><div style="box-sizing: border-box; margin: 0.25em 0px;"><a href="http://wiki.ros.org/Nodes" rev="en_rl_minimal" shape="rect" style="box-sizing: border-box; color: #2b7fcf; text-decoration: none; border: 0px; background: transparent;" target="_blank">Node types</a></div></li></ul></div><div>패키지 리소스 네임은 훨씬 짧다는 것만 빼면 파일 경로와 매우 유사하다.</div><div>이 때문에 디스크에서 패키지의 경로를 찾을 수도 있고, 그들의 내용에 대해 추가적 추측도 해볼 수 있다.</div><div>예를 들어, 메세지 description은 항상 msg 서브데렉토리에 저장되고 .msg 확장자를 갖는다.</div><div>그러므로 std_msgs/String은 /&lt;workspace의 src폴더&gt;/std_msgs/msg/String.msg의 줄인 버전이다.</div><div>유사하게, 노드 타입 /foo/bar는 실행을 위해서 패키지 foo에서 bar라는 이름의 파일을 찾는 것과 같다.</div><div><br clear="none"/></div><div><strong><span style="font-size: 18px;">5.1 유효한 이름</span></strong></div><div><br clear="none"/></div><div>패키지 리소스 네임은 자동 생성된 코드에서 종종 사용되기 때문에, 매우 엄격한 네이밍 룰을 갖는다.</div><div>이러한 이유로, ROS 패키지는 underscore(_)를 제외한 특수 문자를 사용할 수 없으며, 반드시 알파벳 문자로 시작해야한다.</div><div>유효한 이름은 다음 특징을 따른다.</div><ol><li>첫 번째 글자는 알파벳이어야 한다.</li><li>이어지는 글자들은 알파벳/숫자, underscore(_), forward flash(/) 등이 올 수 있다.</li><li>최대 한 개의 forward flash(/)만 포함한다.</li></ol><div><br clear="none"/></div><div><br clear="none"/></div></span>
</div></body></html> 